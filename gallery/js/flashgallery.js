/**
 * flashgallery
 *
 * @version 0.8.2
 * @copyright 2011-2013 Flash-Gallery.com
 */
if(!JSON){var JSON;JSON||(JSON={});(function(){function c(c){return 10>c?"0"+c:c}function a(c){t.lastIndex=0;return t.test(c)?'"'+c.replace(t,function(c){var a=g[c];return"string"===typeof a?a:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+c+'"'}function e(c,t){var d,z,L,E,A=n,g,x=t[c];x&&("object"===typeof x&&"function"===typeof x.toJSON)&&(x=x.toJSON(c));"function"===typeof w&&(x=w.call(t,c,x));switch(typeof x){case "string":return a(x);case "number":return isFinite(x)?String(x):
"null";case "boolean":case "null":return String(x);case "object":if(!x)return"null";n+=v;g=[];if("[object Array]"===Object.prototype.toString.apply(x)){E=x.length;for(d=0;d<E;d+=1)g[d]=e(d,x)||"null";L=0===g.length?"[]":n?"[\n"+n+g.join(",\n"+n)+"\n"+A+"]":"["+g.join(",")+"]";n=A;return L}if(w&&"object"===typeof w){E=w.length;for(d=0;d<E;d+=1)"string"===typeof w[d]&&(z=w[d],(L=e(z,x))&&g.push(a(z)+(n?": ":":")+L))}else for(z in x)Object.prototype.hasOwnProperty.call(x,z)&&(L=e(z,x))&&g.push(a(z)+
(n?": ":":")+L);L=0===g.length?"{}":n?"{\n"+n+g.join(",\n"+n)+"\n"+A+"}":"{"+g.join(",")+"}";n=A;return L}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,v,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},w;"function"!==typeof JSON.stringify&&(JSON.stringify=function(c,d,a){var t;v=n="";if("number"===typeof a)for(t=0;t<a;t+=1)v+=" ";else"string"===typeof a&&(v=a);if((w=d)&&"function"!==typeof d&&("object"!==typeof d||"number"!==typeof d.length))throw Error("JSON.stringify");return e("",{"":c})});
"function"!==typeof JSON.parse&&(JSON.parse=function(c,a){function t(c,d){var e,n,z=c[d];if(z&&"object"===typeof z)for(e in z)Object.prototype.hasOwnProperty.call(z,e)&&(n=t(z,e),void 0!==n?z[e]=n:delete z[e]);return a.call(c,d,z)}var e,c=String(c);d.lastIndex=0;d.test(c)&&(c=c.replace(d,function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+c+")"),"function"===typeof a?t({"":e},""):e;throw new SyntaxError("JSON.parse");})})()}
jQuery.browser||function(){var c,a;c=navigator.userAgent;c=c.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||0>c.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(c)||[];c=a[1]||"";a=a[2]||"0";var e={};c&&(e[c]=!0,e.version=a);e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0);jQuery.browser=e}();jQuery.fn.prop||(jQuery.fn.prop=jQuery.fn.attr);
jQuery.ui||function(c,a){function e(a,e){var v=a.nodeName.toLowerCase();if("area"===v){var v=a.parentNode,g=v.name;if(!a.href||!g||"map"!==v.nodeName.toLowerCase())return!1;v=c("img[usemap=#"+g+"]")[0];return!!v&&d(v)}return(/input|select|textarea|button|object/.test(v)?!a.disabled:"a"==v?a.href||e:e)&&d(a)}function d(a){return!c(a).parents().andSelf().filter(function(){return"hidden"===c.curCSS(this,"visibility")||c.expr.filters.hidden(this)}).length}c.ui=c.ui||{};c.ui.version||(c.extend(c.ui,{version:"1.8.24",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),c.fn.extend({propAttr:c.fn.prop||c.fn.attr,_focus:c.fn.focus,focus:function(a,d){return"number"===typeof a?this.each(function(){var e=
this;setTimeout(function(){c(e).focus();d&&d.call(e)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;a=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,
"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(d){if(d!==a)return this.css("zIndex",d);if(this.length)for(var d=c(this[0]),e;d.length&&d[0]!==document;){e=d.css("position");if("absolute"===e||"relative"===e||"fixed"===e)if(e=parseInt(d.css("zIndex"),10),!isNaN(e)&&0!==e)return e;d=d.parent()}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":
"mousedown")+".ui-disableSelection",function(c){c.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),c("<a>").outerWidth(1).jquery||c.each(["Width","Height"],function(d,e){function v(a,d,e,t){c.each(g,function(){d-=parseFloat(c.curCSS(a,"padding"+this,!0))||0;e&&(d-=parseFloat(c.curCSS(a,"border"+this+"Width",!0))||0);t&&(d-=parseFloat(c.curCSS(a,"margin"+this,!0))||0)});return d}var g="Width"===e?["Left","Right"]:["Top","Bottom"],w=e.toLowerCase(),G={innerWidth:c.fn.innerWidth,
innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+e]=function(d){return d===a?G["inner"+e].call(this):this.each(function(){c(this).css(w,v(this,d)+"px")})};c.fn["outer"+e]=function(d,a){return"number"!==typeof d?G["outer"+e].call(this,d):this.each(function(){c(this).css(w,v(this,d,!0,a)+"px")})}}),c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(d){return function(a){return!!c.data(a,d)}}):function(d,a,e){return!!c.data(d,
e[3])},focusable:function(d){return e(d,!isNaN(c.attr(d,"tabindex")))},tabbable:function(d){var a=c.attr(d,"tabindex"),v=isNaN(a);return(v||0<=a)&&e(d,!v)}}),c(function(){var d=document.body,a=d.appendChild(a=document.createElement("div"));a.offsetHeight;c.extend(a.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=100===a.offsetHeight;c.support.selectstart="onselectstart"in a;d.removeChild(a).style.display="none"}),c.curCSS||(c.curCSS=c.css),c.extend(c.ui,{plugin:{add:function(d,
a,e){var d=c.ui[d].prototype,g;for(g in e)d.plugins[g]=d.plugins[g]||[],d.plugins[g].push([a,e[g]])},call:function(c,d,a){if((d=c.plugins[d])&&c.element[0].parentNode)for(var e=0;e<d.length;e++)c.options[d[e][0]]&&d[e][1].apply(c.element,a)}},contains:function(c,d){return document.compareDocumentPosition?c.compareDocumentPosition(d)&16:c!==d&&c.contains(d)},hasScroll:function(d,a){if("hidden"===c(d).css("overflow"))return!1;var e=a&&"left"===a?"scrollLeft":"scrollTop",g=!1;if(0<d[e])return!0;d[e]=
1;g=0<d[e];d[e]=0;return g},isOverAxis:function(c,d,a){return c>d&&c<d+a},isOver:function(d,a,e,g,w,G){return c.ui.isOverAxis(d,e,w)&&c.ui.isOverAxis(a,g,G)}}))}(jQuery);
jQuery.widget||function(c,a){if(c.cleanData){var e=c.cleanData;c.cleanData=function(d){for(var a=0,v;null!=(v=d[a]);a++)try{c(v).triggerHandler("remove")}catch(g){}e(d)}}else{var d=c.fn.remove;c.fn.remove=function(a,e){return this.each(function(){e||(!a||c.filter(a,[this]).length)&&c("*",this).add([this]).each(function(){try{c(this).triggerHandler("remove")}catch(d){}});return d.call(c(this),a,e)})}}c.widget=function(d,a,e){var g=d.split(".")[0],w,d=d.split(".")[1];w=g+"-"+d;e||(e=a,a=c.Widget);c.expr[":"][w]=
function(a){return!!c.data(a,d)};c[g]=c[g]||{};c[g][d]=function(c,d){arguments.length&&this._createWidget(c,d)};a=new a;a.options=c.extend(!0,{},a.options);c[g][d].prototype=c.extend(!0,a,{namespace:g,widgetName:d,widgetEventPrefix:c[g][d].prototype.widgetEventPrefix||d,widgetBaseClass:w},e);c.widget.bridge(d,c[g][d])};c.widget.bridge=function(d,e){c.fn[d]=function(v){var g="string"===typeof v,w=Array.prototype.slice.call(arguments,1),G=this,v=!g&&w.length?c.extend.apply(null,[!0,v].concat(w)):v;
if(g&&"_"===v.charAt(0))return G;g?this.each(function(){var e=c.data(this,d),n=e&&c.isFunction(e[v])?e[v].apply(e,w):e;if(n!==e&&n!==a)return G=n,!1}):this.each(function(){var a=c.data(this,d);a?a.option(v||{})._init():c.data(this,d,new e(v,this))});return G}};c.Widget=function(c,d){arguments.length&&this._createWidget(c,d)};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(d,a){c.data(a,this.widgetName,this);this.element=c(a);this.options=c.extend(!0,
{},this.options,this._getCreateOptions(),d);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(d,e){var v=d;if(0===arguments.length)return c.extend({},this.options);if("string"===typeof d){if(e===a)return this.options[d];v={};v[d]=e}this._setOptions(v);return this},_setOptions:function(d){var a=this;c.each(d,function(c,d){a._setOption(c,d)});return this},_setOption:function(c,d){this.options[c]=d;"disabled"===c&&this.widget()[d?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
d);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(d,a,e){var g,w=this.options[d],e=e||{},a=c.Event(a);a.type=(d===this.widgetEventPrefix?d:this.widgetEventPrefix+d).toLowerCase();a.target=this.element[0];if(d=a.originalEvent)for(g in d)g in a||(a[g]=d[g]);this.element.trigger(a,e);return!(c.isFunction(w)&&!1===w.call(this.element[0],a,e)||a.isDefaultPrevented())}}}(jQuery);
jQuery.ui.mouse||function(c){var a=!1;c(document).mouseup(function(){a=!1});c.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(c){return a._mouseDown(c)}).bind("click."+this.widgetName,function(d){if(!0===c.data(d.target,a.widgetName+".preventClickEvent"))return c.removeData(d.target,a.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName);this._mouseMoveDelegate&&c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!a){this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var d=this,t=1==e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?c(e.target).closest(this.options.cancel).length:!1;if(!t||n||!this._mouseCapture(e))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=
setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted))return e.preventDefault(),!0;!0===c.data(e.target,this.widgetName+".preventClickEvent")&&c.removeData(e.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(c){return d._mouseMove(c)};this._mouseUpDelegate=function(c){return d._mouseUp(c)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+
this.widgetName,this._mouseUpDelegate);e.preventDefault();return a=!0}},_mouseMove:function(a){if(c.browser.msie&&!(9<=document.documentMode)&&!a.button)return this._mouseUp(a);if(this._mouseStarted)return this._mouseDrag(a),a.preventDefault();this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a))?this._mouseDrag(a):this._mouseUp(a));return!this._mouseStarted},_mouseUp:function(a){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+
this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,a.target==this._mouseDownEvent.target&&c.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));return!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery);
jQuery.ui.draggable||function(c){c.widget("ui.draggable",c.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(a){var e=this.options;if(this.helper||e.disabled||c(a.target).is(".ui-resizable-handle"))return!1;
this.handle=this._getHandle(a);if(!this.handle)return!1;e.iframeFix&&c(!0===e.iframeFix?"iframe":e.iframeFix).each(function(){c('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(c(this).offset()).appendTo("body")});return!0},_mouseStart:function(a){var e=this.options;this.helper=this._createHelper(a);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();
c.ui.ddmanager&&(c.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};c.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);
this.originalPageX=a.pageX;this.originalPageY=a.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);e.containment&&this._setContainment();if(!1===this._trigger("start",a))return this._clear(),!1;this._cacheHelperProportions();c.ui.ddmanager&&!e.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,a);this._mouseDrag(a,!0);c.ui.ddmanager&&c.ui.ddmanager.dragStart(this,a);return!0},_mouseDrag:function(a,e){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");
if(!e){var d=this._uiHash();if(!1===this._trigger("drag",a,d))return this._mouseUp({}),!1;this.position=d.position}if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";c.ui.ddmanager&&c.ui.ddmanager.drag(this,a);return!1},_mouseStop:function(a){var e=!1;c.ui.ddmanager&&!this.options.dropBehaviour&&(e=c.ui.ddmanager.drop(this,a));this.dropped&&(e=this.dropped,this.dropped=
!1);for(var d=this.element[0],t=!1;d&&(d=d.parentNode);)d==document&&(t=!0);if(!t&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!e||"valid"==this.options.revert&&e||!0===this.options.revert||c.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)){var n=this;c(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",a)&&n._clear()})}else!1!==this._trigger("stop",a)&&this._clear();return!1},
_mouseUp:function(a){c("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});c.ui.ddmanager&&c.ui.ddmanager.dragStop(this,a);return c.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var e=!this.options.handle||!c(this.options.handle,this.element).length?!0:!1;c(this.options.handle,this.element).find("*").andSelf().each(function(){this==a.target&&(e=!0)});
return e},_createHelper:function(a){var e=this.options,a=c.isFunction(e.helper)?c(e.helper.apply(this.element[0],[a])):"clone"==e.helper?this.element.clone().removeAttr("id"):this.element;a.parents("body").length||a.appendTo("parent"==e.appendTo?this.element[0].parentNode:e.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" "));c.isArray(a)&&(a={left:+a[0],top:+a[1]||
0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();"absolute"==this.cssPosition&&(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],
this.offsetParent[0]))&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&c.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var c=this.element.position();return{top:c.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),
height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;"parent"==a.containment&&(a.containment=this.helper[0].parentNode);if("document"==a.containment||"window"==a.containment)this.containment=["document"==a.containment?0:c(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==a.containment?0:c(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==a.containment?0:c(window).scrollLeft())+c("document"==a.containment?document:
window).width()-this.helperProportions.width-this.margins.left,("document"==a.containment?0:c(window).scrollTop())+(c("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var a=c(a.containment),e=a[0];if(e){a.offset();var d="hidden"!=c(e).css("overflow");this.containment=[(parseInt(c(e).css("borderLeftWidth"),10)||0)+(parseInt(c(e).css("paddingLeft"),
10)||0),(parseInt(c(e).css("borderTopWidth"),10)||0)+(parseInt(c(e).css("paddingTop"),10)||0),(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(c(e).css("borderLeftWidth"),10)||0)-(parseInt(c(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(c(e).css("borderTopWidth"),10)||0)-(parseInt(c(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];
this.relative_container=a}}else a.containment.constructor==Array&&(this.containment=a.containment)},_convertPositionTo:function(a,e){e||(e=this.position);var d="absolute"==a?1:-1,t="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,n=/(html|body)/i.test(t[0].tagName);return{top:e.top+this.offset.relative.top*d+this.offset.parent.top*d-(c.browser.safari&&526>c.browser.version&&"fixed"==this.cssPosition?
0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:t.scrollTop())*d),left:e.left+this.offset.relative.left*d+this.offset.parent.left*d-(c.browser.safari&&526>c.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:t.scrollLeft())*d)}},_generatePosition:function(a){var e=this.options,d="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,
t=/(html|body)/i.test(d[0].tagName),n=a.pageX,v=a.pageY;if(this.originalPosition){var g;this.containment&&(this.relative_container?(g=this.relative_container.offset(),g=[this.containment[0]+g.left,this.containment[1]+g.top,this.containment[2]+g.left,this.containment[3]+g.top]):g=this.containment,a.pageX-this.offset.click.left<g[0]&&(n=g[0]+this.offset.click.left),a.pageY-this.offset.click.top<g[1]&&(v=g[1]+this.offset.click.top),a.pageX-this.offset.click.left>g[2]&&(n=g[2]+this.offset.click.left),
a.pageY-this.offset.click.top>g[3]&&(v=g[3]+this.offset.click.top));e.grid&&(v=e.grid[1]?this.originalPageY+Math.round((v-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY,v=g?!(v-this.offset.click.top<g[1]||v-this.offset.click.top>g[3])?v:!(v-this.offset.click.top<g[1])?v-e.grid[1]:v+e.grid[1]:v,n=e.grid[0]?this.originalPageX+Math.round((n-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX,n=g?!(n-this.offset.click.left<g[0]||n-this.offset.click.left>g[2])?n:!(n-this.offset.click.left<
g[0])?n-e.grid[0]:n+e.grid[0]:n)}return{top:v-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(c.browser.safari&&526>c.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():t?0:d.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(c.browser.safari&&526>c.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():t?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");
this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(a,e,d){d=d||this._uiHash();c.ui.plugin.call(this,a,[e,d]);"drag"==a&&(this.positionAbs=this._convertPositionTo("absolute"));return c.Widget.prototype._trigger.call(this,a,e,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});c.extend(c.ui.draggable,{version:"1.8.24"});
c.ui.plugin.add("draggable","connectToSortable",{start:function(a,e){var d=c(this).data("draggable"),t=d.options,n=c.extend({},e,{item:d.element});d.sortables=[];c(t.connectToSortable).each(function(){var e=c.data(this,"sortable");e&&!e.options.disabled&&(d.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",a,n))})},stop:function(a,e){var d=c(this).data("draggable"),t=c.extend({},e,{item:d.element});c.each(d.sortables,function(){this.instance.isOver?
(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,"original"==d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",a,t))})},drag:function(a,e){var d=c(this).data("draggable"),t=this;c.each(d.sortables,function(){this.instance.positionAbs=
d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=c(t).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return e.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,
!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",a),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&
(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",a),d.dropped=!1)})}});c.ui.plugin.add("draggable","cursor",{start:function(){var a=c("body"),e=c(this).data("draggable").options;
a.css("cursor")&&(e._cursor=a.css("cursor"));a.css("cursor",e.cursor)},stop:function(){var a=c(this).data("draggable").options;a._cursor&&c("body").css("cursor",a._cursor)}});c.ui.plugin.add("draggable","opacity",{start:function(a,e){var d=c(e.helper),t=c(this).data("draggable").options;d.css("opacity")&&(t._opacity=d.css("opacity"));d.css("opacity",t.opacity)},stop:function(a,e){var d=c(this).data("draggable").options;d._opacity&&c(e.helper).css("opacity",d._opacity)}});c.ui.plugin.add("draggable",
"scroll",{start:function(){var a=c(this).data("draggable");a.scrollParent[0]!=document&&"HTML"!=a.scrollParent[0].tagName&&(a.overflowOffset=a.scrollParent.offset())},drag:function(a){var e=c(this).data("draggable"),d=e.options,t=!1;if(e.scrollParent[0]!=document&&"HTML"!=e.scrollParent[0].tagName){if(!d.axis||"x"!=d.axis)e.overflowOffset.top+e.scrollParent[0].offsetHeight-a.pageY<d.scrollSensitivity?e.scrollParent[0].scrollTop=t=e.scrollParent[0].scrollTop+d.scrollSpeed:a.pageY-e.overflowOffset.top<
d.scrollSensitivity&&(e.scrollParent[0].scrollTop=t=e.scrollParent[0].scrollTop-d.scrollSpeed);if(!d.axis||"y"!=d.axis)e.overflowOffset.left+e.scrollParent[0].offsetWidth-a.pageX<d.scrollSensitivity?e.scrollParent[0].scrollLeft=t=e.scrollParent[0].scrollLeft+d.scrollSpeed:a.pageX-e.overflowOffset.left<d.scrollSensitivity&&(e.scrollParent[0].scrollLeft=t=e.scrollParent[0].scrollLeft-d.scrollSpeed)}else{if(!d.axis||"x"!=d.axis)a.pageY-c(document).scrollTop()<d.scrollSensitivity?t=c(document).scrollTop(c(document).scrollTop()-
d.scrollSpeed):c(window).height()-(a.pageY-c(document).scrollTop())<d.scrollSensitivity&&(t=c(document).scrollTop(c(document).scrollTop()+d.scrollSpeed));if(!d.axis||"y"!=d.axis)a.pageX-c(document).scrollLeft()<d.scrollSensitivity?t=c(document).scrollLeft(c(document).scrollLeft()-d.scrollSpeed):c(window).width()-(a.pageX-c(document).scrollLeft())<d.scrollSensitivity&&(t=c(document).scrollLeft(c(document).scrollLeft()+d.scrollSpeed))}!1!==t&&(c.ui.ddmanager&&!d.dropBehaviour)&&c.ui.ddmanager.prepareOffsets(e,
a)}});c.ui.plugin.add("draggable","snap",{start:function(){var a=c(this).data("draggable"),e=a.options;a.snapElements=[];c(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var d=c(this),e=d.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),top:e.top,left:e.left})})},drag:function(a,e){for(var d=c(this).data("draggable"),t=d.options,n=t.snapTolerance,v=e.offset.left,g=v+d.helperProportions.width,w=e.offset.top,
G=w+d.helperProportions.height,K=d.snapElements.length-1;0<=K;K--){var I=d.snapElements[K].left,z=I+d.snapElements[K].width,L=d.snapElements[K].top,E=L+d.snapElements[K].height;if(I-n<v&&v<z+n&&L-n<w&&w<E+n||I-n<v&&v<z+n&&L-n<G&&G<E+n||I-n<g&&g<z+n&&L-n<w&&w<E+n||I-n<g&&g<z+n&&L-n<G&&G<E+n){if("inner"!=t.snapMode){var A=Math.abs(L-G)<=n,O=Math.abs(E-w)<=n,x=Math.abs(I-g)<=n,M=Math.abs(z-v)<=n;A&&(e.position.top=d._convertPositionTo("relative",{top:L-d.helperProportions.height,left:0}).top-d.margins.top);
O&&(e.position.top=d._convertPositionTo("relative",{top:E,left:0}).top-d.margins.top);x&&(e.position.left=d._convertPositionTo("relative",{top:0,left:I-d.helperProportions.width}).left-d.margins.left);M&&(e.position.left=d._convertPositionTo("relative",{top:0,left:z}).left-d.margins.left)}var T=A||O||x||M;"outer"!=t.snapMode&&(A=Math.abs(L-w)<=n,O=Math.abs(E-G)<=n,x=Math.abs(I-v)<=n,M=Math.abs(z-g)<=n,A&&(e.position.top=d._convertPositionTo("relative",{top:L,left:0}).top-d.margins.top),O&&(e.position.top=
d._convertPositionTo("relative",{top:E-d.helperProportions.height,left:0}).top-d.margins.top),x&&(e.position.left=d._convertPositionTo("relative",{top:0,left:I}).left-d.margins.left),M&&(e.position.left=d._convertPositionTo("relative",{top:0,left:z-d.helperProportions.width}).left-d.margins.left));!d.snapElements[K].snapping&&(A||O||x||M||T)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,a,c.extend(d._uiHash(),{snapItem:d.snapElements[K].item}));d.snapElements[K].snapping=A||O||x||M||T}else d.snapElements[K].snapping&&
d.options.snap.release&&d.options.snap.release.call(d.element,a,c.extend(d._uiHash(),{snapItem:d.snapElements[K].item})),d.snapElements[K].snapping=!1}}});c.ui.plugin.add("draggable","stack",{start:function(){var a=c(this).data("draggable").options,a=c.makeArray(c(a.stack)).sort(function(d,a){return(parseInt(c(d).css("zIndex"),10)||0)-(parseInt(c(a).css("zIndex"),10)||0)});if(a.length){var e=parseInt(a[0].style.zIndex)||0;c(a).each(function(c){this.style.zIndex=e+c});this[0].style.zIndex=e+a.length}}});
c.ui.plugin.add("draggable","zIndex",{start:function(a,e){var d=c(e.helper),t=c(this).data("draggable").options;d.css("zIndex")&&(t._zIndex=d.css("zIndex"));d.css("zIndex",t.zIndex)},stop:function(a,e){var d=c(this).data("draggable").options;d._zIndex&&c(e.helper).css("zIndex",d._zIndex)}})}(jQuery);
jQuery.effects||jQuery.effects||function(c,a){function e(d){var a;return d&&d.constructor==Array&&3==d.length?d:(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(d))?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)]:(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(d))?[2.55*parseFloat(a[1]),2.55*parseFloat(a[2]),2.55*parseFloat(a[3])]:(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(d))?[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)]:(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(d))?[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(d)?w.transparent:w[c.trim(d).toLowerCase()]}function d(){var c=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,d={},a,e;if(c&&c.length&&c[0]&&c[c[0]])for(var g=c.length;g--;)a=c[g],"string"==typeof c[a]&&(e=a.replace(/\-(\w)/g,function(c,d){return d.toUpperCase()}),d[e]=
c[a]);else for(a in c)"string"===typeof c[a]&&(d[a]=c[a]);return d}function t(d){var a,e;for(a in d)e=d[a],(null==e||c.isFunction(e)||a in K||/scrollbar/.test(a)||!/color/i.test(a)&&isNaN(parseFloat(e)))&&delete d[a];return d}function n(c,d){var a={_:0},e;for(e in d)c[e]!=d[e]&&(a[e]=d[e]);return a}function v(d,a,e,g){"object"==typeof d&&(g=a,e=null,a=d,d=a.effect);c.isFunction(a)&&(g=a,e=null,a={});if("number"==typeof a||c.fx.speeds[a])g=e,e=a,a={};c.isFunction(e)&&(g=e,e=null);a=a||{};e=e||a.duration;
e=c.fx.off?0:"number"==typeof e?e:e in c.fx.speeds?c.fx.speeds[e]:c.fx.speeds._default;g=g||a.complete;return[d,a,e,g]}function g(a){return!a||("number"===typeof a||c.fx.speeds[a])||"string"===typeof a&&!c.effects[a]?!0:!1}c.effects={};c.each("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor borderColor color outlineColor".split(" "),function(a,d){c.fx.step[d]=function(a){if(!a.colorInit){var z;z=a.elem;var g=d,n;do{n=(c.curCSS||c.css)(z,g);if(""!=n&&"transparent"!=
n||c.nodeName(z,"body"))break;g="backgroundColor"}while(z=z.parentNode);z=e(n);a.start=z;a.end=e(a.end);a.colorInit=!0}a.elem.style[d]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var w={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],
cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,
255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},G=["add","remove","toggle"],K={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};c.effects.animateClass=function(a,e,g,v){c.isFunction(g)&&(v=g,g=null);return this.queue(function(){var w=
c(this),x=w.attr("style")||" ",M=t(d.call(this)),I,K=w.attr("class")||"";c.each(G,function(c,d){if(a[d])w[d+"Class"](a[d])});I=t(d.call(this));w.attr("class",K);w.animate(n(M,I),{queue:!1,duration:e,easing:g,complete:function(){c.each(G,function(c,d){if(a[d])w[d+"Class"](a[d])});"object"==typeof w.attr("style")?(w.attr("style").cssText="",w.attr("style").cssText=x):w.attr("style",x);v&&v.apply(this,arguments);c.dequeue(this)}})})};c.fn.extend({_addClass:c.fn.addClass,addClass:function(a,d,e,g){return d?
c.effects.animateClass.apply(this,[{add:a},d,e,g]):this._addClass(a)},_removeClass:c.fn.removeClass,removeClass:function(a,d,e,g){return d?c.effects.animateClass.apply(this,[{remove:a},d,e,g]):this._removeClass(a)},_toggleClass:c.fn.toggleClass,toggleClass:function(d,e,g,n,v){return"boolean"==typeof e||e===a?g?c.effects.animateClass.apply(this,[e?{add:d}:{remove:d},g,n,v]):this._toggleClass(d,e):c.effects.animateClass.apply(this,[{toggle:d},e,g,n])},switchClass:function(a,d,e,g,n){return c.effects.animateClass.apply(this,
[{add:d,remove:a},e,g,n])}});c.extend(c.effects,{version:"1.8.24",save:function(c,a){for(var d=0;d<a.length;d++)null!==a[d]&&c.data("ec.storage."+a[d],c[0].style[a[d]])},restore:function(c,a){for(var d=0;d<a.length;d++)null!==a[d]&&c.css(a[d],c.data("ec.storage."+a[d]))},setMode:function(c,a){"toggle"==a&&(a=c.is(":hidden")?"show":"hide");return a},getBaseline:function(c,a){var d,e;switch(c[0]){case "top":d=0;break;case "middle":d=0.5;break;case "bottom":d=1;break;default:d=c[0]/a.height}switch(c[1]){case "left":e=
0;break;case "center":e=0.5;break;case "right":e=1;break;default:e=c[1]/a.width}return{x:e,y:d}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var d={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},e=c("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),g=document.activeElement;try{g.id}catch(n){g=document.body}a.wrap(e);(a[0]===g||c.contains(a[0],g))&&c(g).focus();
e=a.parent();"static"==a.css("position")?(e.css({position:"relative"}),a.css({position:"relative"})):(c.extend(d,{position:a.css("position"),zIndex:a.css("z-index")}),c.each(["top","left","bottom","right"],function(c,e){d[e]=a.css(e);isNaN(parseInt(d[e],10))&&(d[e]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return e.css(d).show()},removeWrapper:function(a){var d,e=document.activeElement;return a.parent().is(".ui-effects-wrapper")?(d=a.parent().replaceWith(a),(a[0]===
e||c.contains(a[0],e))&&c(e).focus(),d):a},setTransition:function(a,d,e,g){g=g||{};c.each(d,function(c,d){var n=a.cssUnit(d);0<n[0]&&(g[d]=n[0]*e+n[1])});return g}});c.fn.extend({effect:function(a,d,e,g){var n=v.apply(this,arguments),t={options:n[1],duration:n[2],callback:n[3]},n=t.options.mode,w=c.effects[a];return c.fx.off||!w?n?this[n](t.duration,t.callback):this.each(function(){t.callback&&t.callback.call(this)}):w.call(this,t)},_show:c.fn.show,show:function(c){if(g(c))return this._show.apply(this,
arguments);var a=v.apply(this,arguments);a[1].mode="show";return this.effect.apply(this,a)},_hide:c.fn.hide,hide:function(c){if(g(c))return this._hide.apply(this,arguments);var a=v.apply(this,arguments);a[1].mode="hide";return this.effect.apply(this,a)},__toggle:c.fn.toggle,toggle:function(a){if(g(a)||"boolean"===typeof a||c.isFunction(a))return this.__toggle.apply(this,arguments);var d=v.apply(this,arguments);d[1].mode="toggle";return this.effect.apply(this,d)},cssUnit:function(a){var d=this.css(a),
e=[];c.each(["em","px","%","pt"],function(c,a){0<d.indexOf(a)&&(e=[parseFloat(d),a])});return e}});var I={};c.each(["Quad","Cubic","Quart","Quint","Expo"],function(c,a){I[a]=function(a){return Math.pow(a,c+2)}});c.extend(I,{Sine:function(c){return 1-Math.cos(c*Math.PI/2)},Circ:function(c){return 1-Math.sqrt(1-c*c)},Elastic:function(c){return 0===c||1===c?c:-Math.pow(2,8*(c-1))*Math.sin((80*(c-1)-7.5)*Math.PI/15)},Back:function(c){return c*c*(3*c-2)},Bounce:function(c){for(var a,d=4;c<((a=Math.pow(2,
--d))-1)/11;);return 1/Math.pow(4,3-d)-7.5625*Math.pow((3*a-2)/22-c,2)}});c.each(I,function(a,d){c.easing["easeIn"+a]=d;c.easing["easeOut"+a]=function(c){return 1-d(1-c)};c.easing["easeInOut"+a]=function(c){return 0.5>c?d(2*c)/2:d(-2*c+2)/-2+1}})}(jQuery);var altgallery,altbox;
(function(c,a){function e(b){return"[object Array]"==Object.prototype.toString.call(b)}function d(b,c){return Math.floor(Math.random()*(c-b+1))+b}function t(b){var c="",f,a=b.length;for(f=0;f<a;f++)c+=b.charCodeAt(f).toString(16);return c}function n(b){for(var c in b)"object"==typeof b[c]?b[c]=n(b[c]):"true"==b[c]?b[c]=!0:"false"==b[c]?b[c]=!1:b[c]==parseInt(b[c])&&(b[c]=parseInt(b[c]));return b}function v(b){var c=[],f,a;for(f=0;f<b.length;f++)for(a=0;a<b[f].items.length;a++)c.push(b[f].items[a]);
return c}function g(){var b=document.getElementsByTagName("script");return b[b.length-1].src||location.href}function w(){return"ontouchstart"in document}function G(){return navigator.userAgent.match(/(iPhone|iPod|Android 2)/i)?!0:!1}function K(){if(ha===a){var b=location.hostname.toString().replace(/^www\./i,"");ha=!location.hostname||-1!=c.inArray(t(b),ua)}return ha}function I(b,c){"object"==typeof b&&(c=b.target,b=b.link);c||(c="_blank");switch(c){case "_blank":window.open(b);break;case "_parent":parent.location.href=
b;break;case "_self":location.href=b;break;case "_top":top.location.href=b;break;default:top.frames[c].location.href=b}}function z(b,c,f){f===a&&"number"==typeof c&&(f=c,c=a);f=f||10;if(b&&Q[b]===a){var y=new Image;Q[b]=y;Q[b].loaded=!1;Q[b].callbacks=[];"function"==typeof c&&Q[b].callbacks.push(c);setTimeout(function(){y.onload=function(){Q[b].loaded=!0;for(var c=0;c<Q[b].callbacks.length;c++)Q[b].callbacks[c](Q[b])};y.src=b},f)}else Q[b].loaded?"function"==typeof c&&c(Q[b]):"function"==typeof c&&
Q[b].callbacks.push(c)}function L(b,r,f,y){f===a&&"number"==typeof r&&(f=r,r=a);f=f||10;if("string"==typeof b)return z(b,r,f);if(e(b)){var y=y||[],d=b.slice();setTimeout(function(){var b=d.shift(),b="string"==typeof b?b:b.source||b.src||c(b).attr("src");z(b,function(b){d.length?(y.push(b),L(d,r,f,y)):"function"==typeof r&&r(y)})},f)}}function E(b){return'url("'+b+'")'}function A(b){if("number"==typeof b)return"#"+sprintf("%06x",b);if("string"==typeof b){var c;return(c=b.match(/[0-9a-f]{3,6}$/i))?
3==c[0].length?"#"+c[0]+c[0]+c[1]+c[1]+c[2]+c[2]:"#"+c[0]:(c=b.match(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i))?"#"+sprintf("%02x",c[1])+sprintf("%02x",c[2])+sprintf("%02x",c[3]):b}}function O(b,c){var b=A(b),f=b.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i);if(f){for(var y=[],d=1;3>=d;d++)y.push(parseInt(f[d],16));return c!==a?"rgba("+y[0]+", "+y[1]+", "+y[2]+", "+c+")":"rgb("+y[0]+", "+y[1]+", "+y[2]+")"}return"transparent"}function x(b,r){function f(b,c,f){for(var r in b)r.match("-")?
b[c+r]=b[r]:b[f+r.charAt(0).toUpperCase()+r.slice(1)]=b[r]}r===a&&(r=b,b=null);c.browser.mozilla?f(r,"-moz-","Moz"):c.browser.webkit?f(r,"-webkit-","webkit"):c.browser.opera?f(r,"-o-","O"):c.browser.msie&&f(r,"-ms-","ms");b&&c(b).css(r);return r}function M(b,r){if(r===a)return r={},c(b).data("transform")||{};c(b).each(function(){var b=[],a;for(a in r)b.push(a+"("+r[a]+")");b=b.join(" ");c(this).data("transform",r).css({"-moz-transform":b,"-webkit-transform":b,"-khtml-transform":b,"-o-transform":b,
"-ms-transform":b,transform:b})});return c(b)}function T(b){c(b).css({display:"block",position:"static",cssFloat:"none",clear:"none",left:"auto",right:"auto",top:"auto",bottom:"auto",width:"auto",height:"auto",minWidth:"none",minHeight:"none",maxWidth:"none",maxHeight:"none",overflow:"visible",margin:0,padding:0,border:"none",background:"none",color:"#000000",fontFamily:"serif",fontSize:"16px",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:"normal",lineHeight:"normal",opacity:1,
outline:"none",textAlign:"left",textIndent:0,textShadow:"none",visibility:"visible",whiteSpace:"normal",cursor:"inherit"})}function ja(b){function r(b){l||(l=!0,m=b.changedTouches[0],q=window.setTimeout(function(){l=!1;var b=m,c=document.createEvent("MouseEvent");c.initMouseEvent("mouseup",!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(c);c=document.createEvent("MouseEvent");c.initMouseEvent("mousedown",!0,!0,window,1,b.screenX,b.screenY,b.clientX,
b.clientY,!1,!1,!1,!1,2,null);b.target.dispatchEvent(c);c=document.createEvent("MouseEvent");c.initMouseEvent("contextmenu",!0,!0,window,1,b.screenX+50,b.screenY+5,b.clientX+50,b.clientY+5,!1,!1,!1,!1,2,null);b.target.dispatchEvent(c);u=!0;m=null},800))}function f(){l&&(window.clearTimeout(q),l=!1,m=null)}function a(b){var y="";if(!(1<b.touches.length)){switch(b.type){case "touchstart":if(c(b.changedTouches[0].target).is("select"))return;var y=b.changedTouches[0],l="mouseover",m=document.createEvent("MouseEvent");
m.initMouseEvent(l,!0,!0,window,1,y.screenX,y.screenY,y.clientX,y.clientY,!1,!1,!1,!1,0,null);y.target.dispatchEvent(m);l="mousedown";m=document.createEvent("MouseEvent");m.initMouseEvent(l,!0,!0,window,1,y.screenX,y.screenY,y.clientX,y.clientY,!1,!1,!1,!1,0,null);y.target.dispatchEvent(m);k?(window.clearTimeout(e),y.target==d?(d=null,k=!1,l="click",m=document.createEvent("MouseEvent"),m.initMouseEvent(l,!0,!0,window,1,y.screenX,y.screenY,y.clientX,y.clientY,!1,!1,!1,!1,0,null),y.target.dispatchEvent(m),
l="dblclick",m=document.createEvent("MouseEvent"),m.initMouseEvent(l,!0,!0,window,1,y.screenX,y.screenY,y.clientX,y.clientY,!1,!1,!1,!1,0,null),y.target.dispatchEvent(m)):(d=y.target,k=!0,e=window.setTimeout(function(){k=!1},600),r(b))):(d=y.target,k=!0,e=window.setTimeout(function(){k=!1},600),r(b));b.preventDefault();return!1;case "touchmove":f();y="mousemove";b.preventDefault();break;case "touchend":if(u)return u=!1,b.preventDefault(),!1;f();y="mouseup";break;default:return}b=b.changedTouches[0];
l=document.createEvent("MouseEvent");l.initMouseEvent(y,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(l);"mouseup"==y&&(k&&b.target==d)&&(l=document.createEvent("MouseEvent"),l.initMouseEvent("click",!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),b.target.dispatchEvent(l))}}var d=null,k=!1,e=null,l=!1,m=null,q=null,u=!1;c.support.touch&&c(b).each(function(){this.addEventListener("touchstart",a,!1);this.addEventListener("touchmove",
a,!1);this.addEventListener("touchend",a,!1);this.addEventListener("touchcancel",a,!1)})}function aa(b,r){r=c.extend({speed:10,width:32,height:32,frames:12,layout:"horizontal"},r);z(b);this.element=c("<div>");this.element.css({width:r.width,height:r.height,background:E(b),backgroundRepeat:"no-repeat",backgroundPosition:"0 0"});this.frame=0;this.get=function(){var b=this;this.element.start=function(){return b.start()};this.element.stop=function(){return b.stop()};return this.element};this.start=function(){var b=
this;clearInterval(this.interval);this.interval="horizontal"==r.layout?setInterval(function(){++b.frame>=r.frames&&(b.frame=0);b.element.css({backgroundPosition:(-b.frame*r.width).toString()+"px 0"})},1E3/r.speed):setInterval(function(){++b.frame>=r.frames&&(b.frame=0);b.element.css({backgroundPosition:"0 "+(-b.frame*r.height).toString()+"px"})},1E3/r.speed)};this.stop=function(){clearInterval(this.interval)}}function ta(b,r){this.init=function(){var f=this.container=c('<div class="altgallery-canvas"></div>');
T(f);f.css({display:"block",position:"relative",width:r.width,height:r.height,cursor:"default"});x(f,{userSelect:"none"});this.element=c("<div/>");this.element.css({display:"block",position:"relative",width:r.width,height:r.height,overflow:"hidden",margin:0,padding:0,background:r.background});f.append(this.element);var a=c('<a href="http://www.flash-gallery.com/" target="_blank" style="display:block;position:absolute;left:0;top:0;z-index:11000;width:90px;height:20px;overflow:hidden;font-family:Tahoma,Arial,Helvetica,sans-serif;font-size:9px;line-height:12px;text-align:left;text-decoration:none;text-shadow:none;color:#fff;background:rgba(0,0,0,0.7);opacity:0.7;border-radius:4px;"><span style="display:block;padding:4px 10px;text-transform:uppercase;font-size:8px;font-weight:bold;white-space:nowrap;">Photo Gallery</span><span style="display:block;padding:5px 10px 10px;font-size:9px;background:rgba(0,0,0,0.5);border-bottom-left-radius:4px;border-bottom-right-radius:4px;opacity:0;">Download free version of this gallery from Flash-Gallery.com</span></a>');
ka=737;if(!K()){var d=a.width();c.browser.opera&&a.css({width:100}).find("span:first").css({letterSpacing:"-1px"});c.browser.msie&&9>c.browser.version?(a.css({background:"#444"}).find("span:last").css({background:"#222"}),a.hover(function(){c(this).stop().animate({width:120},"fast",function(){c(this).animate({height:70},"fast",function(){c(this).find("span:last").show()})})},function(){c(this).find("span:last").hide();c(this).stop().animate({height:20},"fast",function(){c(this).animate({width:d},
"fast")})})):a.hover(function(){c(this).stop().animate({width:120},"fast",function(){c(this).animate({height:70,opacity:1},"fast",function(){c(this).find("span:last").animate({opacity:1},"slow")})})},function(){c(this).find("span:last").animate({opacity:0},"fast");c(this).stop().animate({height:20},"fast",function(){c(this).animate({width:d,opacity:0.7},"fast")})});f.append(a)}c(b).empty().append(f);ja(this.element)};this.empty=function(){this.element.empty()};this.width=function(b){return b===a?
this.element.width():this.element.width(b)};this.height=function(b){return b===a?this.element.height():this.element.height(b)};this.resize=function(b,c){this.element.css({width:b,height:c});this.container.css({width:b,height:c})};this.append=function(b){return this.element.append(b)};this.scaleFactor=1;this.scale=function(b){return b?(this.gallery&&this.gallery.scale?this.gallery.scale(b):(M(this.element,{scale:b}),x(this.element,{"transform-origin":"0 0"})),this.scaleFactor=b):this.scaleFactor};
this.initFullscreen=function(){if(r.fullscreen)switch(r.fullscreen){default:case "auto":w()&&this.enableFullscreen();break;case "always":this.enableFullscreen();case "never":}};var f=null;this.enableFullscreen=function(){var b=this;if(!f){var a={background:"rgba(0,0,0,0.25) no-repeat center",backgroundImage:E(r.images.folder+"fullscreen-128.png")};f=c("<div/>");f.css({position:"absolute",left:0,top:0,right:0,bottom:0,zIndex:1E4,opacity:1,cursor:"pointer"}).css(a);f.click(function(){b.fullscreen();
return!1});b.element.after(f);location.hash.match(/#altgallery.fullscreen.start\b/)&&b.fullscreen()}};this.isFullscreen=!1;this.fullscreen=function(){function b(){u.empty().html("&nbsp;");p.css({left:c(window).scrollLeft()-l.container.offset().left,top:c(window).scrollTop()-l.container.offset().top,width:u.width(),height:u.height()})}function a(){var b=u.width(),f=u.height();if(b!=F||f!=g){var r=m,d=q,y;w()?(y=screen.width<screen.height&&c(window).width()>c(window).height()?screen.height:screen.width,
y=b/y*(Math.max(screen.width,screen.height)/c(window).width())):y=1;C.css({right:8*y,top:8*y,width:48*y,height:48*y});r/d<b/f?(d=H.fit(r,d,b-64*y,f),l.element.css({zIndex:10,left:b-d.width>128*y?(b-d.width)/2:d.left,top:d.top})):(d=H.fit(r,d,b,f-64*y),l.element.css({zIndex:10,left:d.left,top:f-d.height>128*y?(f-d.height)/2:64*y}));l.scale(d.width/r);F=b;g=f}}function d(f){if("resize"==f.type){var f=c(window).width(),r=c(window).height();if(f==n&&r==la)return;n=f;la=r}u.empty().html("&nbsp;");b();
D&&(clearTimeout(D),D=null);D=setTimeout(a,500)}function e(b){if(27==b.which)return l.exitFullscreen(),!1}var l=this,m=l.container.width(),q=l.container.height();if(self!=top)top.location.href=location.href+"#altgallery.fullscreen.start#altgallery.fullscreen.back";else if(!l.isFullscreen){l.isFullscreen=!0;f&&f.hide();c(document.body).scrollTop(c(document.body).scrollTop()+1).css({overflow:"hidden"});var u=c("<div/>");u.css({position:"fixed",left:0,top:0,width:"100%",height:"100%",zIndex:11100,background:"#000",
opacity:0.9});c(document.body).append(u);ja(u);l.element.wrap("<div/>");var p=l.element.parent();p.css({position:"absolute",left:c(window).scrollLeft()-l.container.offset().left,top:c(window).scrollTop()-l.container.offset().top,width:u.width(),height:u.height(),zIndex:1E5});l.container.css({position:"absolute",zIndex:11110});var s=c("<div/>");s.css({width:l.width(),height:l.height()});l.container.after(s);var C=c("<img/>");C.attr({src:r.images.folder+"close-48.png"}).css({position:"absolute",right:8,
top:8,cursor:"pointer"});p.append(C);var F,g,D=setTimeout(function(){u.empty().html("&nbsp;");b();a()},100),n=c(window).width(),la=c(window).height();setTimeout(function(){c(window).bind("resize scroll",d)},500);l.exitFullscreen=function(){c(window).unbind("resize scroll",d);clearTimeout(D);location.hash.match(/#altgallery.fullscreen.back\b/)&&history.back();C.remove();s.remove();l.container.css({position:"relative",zIndex:0});l.scale(1);l.element.css({left:0,top:0});u.remove();l.element.unwrap();
c(document.body).css({overflow:"auto"});l.isFullscreen=!1;f&&f.show();c(document.body).unbind("keyup",e)};C.click(function(){l.exitFullscreen();return!1});c(document.body).keyup(e)}};this.init()}function $(b,r,f,a){var d=this;d.options=a||{};this.canvas=b;this.albums=r;this.items=v(r);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.onOpen=function(){};d.onOpenItem={};this.settings=c.extend(!0,{image:{scaleMode:"fit",cornerRadius:10,align:"center",transitionEffect:"fade",
transitionDuration:1,useShadow:!0},caption:{visibleMode:"onRollOver",position:"bottom",bgColor:0,bgAlpha:30,color:16777215,fontName:"Arial",fontSize:11},thumbBar:{useThumbBar:!0,position:"bottom",scrollSpeed:10},thumbnail:{width:80,height:60,cornerRadius:10,alpha:70,outlineColor:3355443,outlineColorOnRollOver:6710886,outlineColorOnClick:10066329,useShadow:!0},slideshow:{start:!1,delay:2.5,loop:!0,stopAutoOnClick:!0}},f||{});this.settings=n(this.settings);this.scaleFactor=1;if(w()&&(this.settings.thumbnail.width<
0.1*b.width()||this.settings.thumbnail.height<0.1*b.height()))this.settings.thumbnail.width*=1.5,this.settings.thumbnail.height*=1.5;this.preloader=new aa(d.options.images.loader);d.settings.slideshow.start&&setTimeout(function(){d.slideshowStart()},500*d.settings.image.transitionDuration);this.render()}function N(b,r,f,a){this.options=a||{};this.canvas=b;this.albums=r;this.items=v(r);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.defaultSettings={image:{scaleMode:"fill",
padding:0,bgTintColor:16777215},thumbnail:{width:80,height:60,alpha:70},caption:{showCaption:!0},buttons:{showImageNavigationButtons:!0,showLinkButton:!0,showFacebookButton:!0,showTwitterButton:!0,showSlideshowButton:!0,showFullscreenButton:!0},slideshow:{start:!1,delay:2.5},translation:{image:"Image",clickToView:"Click to view",getLink:"Get link",shareWithFacebook:"Share with Facebook",tweet:"Tweet",startSlideshow:"Start slideshow",stopSlideshow:"Stop slideshow",fullscreenMode:"Fullscreen mode"}};
this.settings=c.extend(!0,this.defaultSettings,f||{});this.settings=n(this.settings);this.scaleFactor=1;this.scale2=w()?2:1;if(w()&&(this.settings.thumbnail.width<0.1*b.width()||this.settings.thumbnail.height<0.1*b.height()))this.settings.thumbnail.width*=1.5,this.settings.thumbnail.height*=1.5;this.init()}function W(b,r,f,a){this.options=a||{};this.canvas=b;this.albums=r;this.items=v(r);this.currentItem=-1;this.getCurrentItem=function(){return this.items[this.currentItem]};this.defaultSettings={thumbnail:{width:120,
height:90,alpha:85},colorScheme:{thumbsFrameColor:16777215,imageBGColor:1118481,useShadow:!0},imageCaption:{position:"top",color:16777215,bgColor:0,bgAlpha:30,fontName:"Arial",fontSize:11,visibleMode:"always"}};this.settings=c.extend(!0,this.defaultSettings,f||{});this.settings=n(this.settings);this.scale2=this.scaleFactor=1;this.page=0;this.render()}function J(b,r,f,a){this.options=a||{};this.canvas=b;this.albums=r;this.items=v(r);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};
this.defaultSettings={initialState:"Load Image",slideshowDelay:2,showCaption:!0,base:{color:4080713,visibleFrame:5},buttons:{showSlideshowButton:!0,showThumbnailsButton:!0,bgColor:15066854}};this.settings=c.extend(!0,this.defaultSettings,f||{});this.settings=n(this.settings);this.enableThumbnailsHover=!0;this.drag=!1;this.scaleFactor=1;this.scale2=w()?1.5:1;this.init()}function X(b,r,f,a){this.options=a||{};this.canvas=b;this.albums=r;this.items=v(r);this.currentItem=-1;this.getCurrentItem=function(){return this.items[this.currentItem]};
this.defaultSettings={frame:{frameColor:16777215,frameSize:10,arrowsColor:0,buttonSize:40,useShadow:!0,shadowSize:5,alwaysShowButtons:!1},images:{alpha:100,visibleQuantity:2,margin:5},imageCaption:{color:16777215,frameColor:6710886,frameAlpha:80,bgColor:0,bgAlpha:80,fontName:"Arial",fontSize:11},slideshow:{start:!1,delay:2}};this.settings=c.extend(!0,this.defaultSettings,f||{});this.settings=n(this.settings);this.scale2=this.scaleFactor=1;this.page=0;this.render()}function R(b,r,f,a){this.options=
a||{};this.canvas=b;this.albums=r;this.settings=c.extend(!0,{imageAngle:30,maxImageWidth:0,useHighlight:!0,useScrollBar:!0,showReflections:!0,solidReflection:!0,reflectionAlpha:80,slideShow:!1,slideShowDelay:2,flipDuration:1,startPosition:"center",colorScheme:"custom",preloader:{stripesAlpha:45,barColor:0,barAlpha:30,bgColor:0,bgAlpha:20,innerShadow:20,dropShadow:30},scrollbar:{bgColor:0,bgAlpha:40,handleColor:0,handleAlpha:40,arrowsColor:0,arrowsAlpha:40,innerShadow:20,dropShadow:20},caption:{textColor:16777215,
bgColor:0,bgAlpha:80,frameColor:16777215,frameAlpha:40,shadowAlpha:50,multilingual:!1,multilingualFontSize:12},background:{bgColor:16777215,transparentBG:!0}},f||{});this.settings=n(this.settings);this.settings.maxImageWidth||(this.settings.maxImageWidth=Math.round(b.width()/2.5));G()&&(this.settings.useScrollBar=!1);if(b=this.settings.showReflections)b=this.canvas.element.css("backgroundColor"),b=(A(b).match(/[0-9a-f]{6}$/i)?!0:!1)&&!(c.browser.msie&&9>c.browser.version);this.showReflections=b;this.items=
v(r);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.getItemX=function(b){return-(this.currentItem-b)};this.getItemZ=function(b){return parseInt(this.items.length/2)-Math.abs(this.getItemX(b))};this.currentItem="left"==this.settings.startPosition?0:"right"==this.settings.startPosition?this.items.length:Math.floor((this.items.length-1)/2);this.scaleFactor=1;this.render();this.settings.slideShow&&this.slideshowStart()}function Z(b,r,f,a){this.options=a||{};
this.canvas=b;this.albums=r;this.items=v(r);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.getNextItem=function(b){return this.items[(this.currentItem+(b||1))%this.items.length]};this.defaultSettings={slideshow:!1,frameColor:16777215,useShadow:!0,visibleImages:5,maxAngle:5,image:{width:0,height:0},imageScaleMode:"fill",caption:{color:0,fontName:"Arial"},usePhotoNumbers:!0,translation:{back:"BACK",gotoLink:"GO TO LINK"},overflow:!0};this.settings=c.extend(!0,
this.defaultSettings,f||{});this.settings=n(this.settings);this.scaleFactor=1;3>this.settings.visibleImages&&(this.settings.visibleImages=3);this.settings.visibleImages>this.items.length&&(this.settings.visibleImages=this.items.length);this.stack=[];this.init()}function P(b,r,f,a){this.options=a||{};this.canvas=b;this.albums=r;this.currentAlbum=0;this.getCurrentAlbum=function(){return this.albums[this.currentAlbum]};this.currentItem=0;this.getCurrentItem=function(){return this.getCurrentAlbum().items[this.currentItem]};
this.scaleFactor=1;this.settings=c.extend(!0,{initialState:"Show Albums",imageScaleMode:"fill",frameSize:5,frameColor:"#ffffff",backgroundColor:"#aac5d8",cornerRadius:7,iconWidth:90,iconHeight:55,iconPadding:10,panelBackgroundAlpha:50,showCaption:"always",captionBackgroundAlpha:40,showButtons:"always",buttonsBackgroundAlpha:40,showAlbumsButton:!0,showThumbnailsButton:!0,showSlideshowButton:!0,showNavigationButton:!0,useEmbeddedFont:!0,fontName:"Arial",fontSize:11,translation:{Album:"Album",Albums:"Albums",
Image:"Image",Images:"Images",Close:"CLOSE",BackToAlbums:"BACK TO ALBUMS",LoadingImage:"Loading Image",Of:"of"}},f||{});this.settings=n(this.settings);this.settings.useEmbeddedFont&&(this.settings.fontName="Tahoma, Verdana, sans-serif",this.settings.fontSize=9);this.currentState=this.settings.initialState.toLowerCase();this.cache=function(){if(0<=this.currentItem){var b=this.getCurrentAlbum().items,c=[],f,r;for(r=this.currentItem+1;r<this.currentItem+3;r++)(f=b[(b.length+r)%b.length])&&(f=f.source)&&
c.push(f);for(r=this.currentItem-1;r>this.currentItem-2;r--)(f=b[(b.length+r)%b.length])&&(f=f.source)&&c.push(f);c.length&&L(c,100)}};this.render()}window.altgallery_id=window.altgallery_id||0;var ka,va=67,ua=["3132372e302e302e31","6c6f63616c686f7374","666c6173682d67616c6c6572792e636f6d"];sprintfWrapper={init:function(){if("undefined"==typeof arguments||1>arguments.length||"string"!=typeof arguments[0]||"undefined"==typeof RegExp)return null;for(var b=arguments[0],c=RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g),
f=[],a=[],d=0,e=0,h=0,e=0,l="",m=null;m=c.exec(b);)m[9]&&(d+=1),h=c.lastIndex-m[0].length,a[a.length]=b.substring(e,h),e=c.lastIndex,f[f.length]={match:m[0],left:m[3]?!0:!1,sign:m[4]||"",pad:m[5]||" ",min:m[6]||0,precision:m[8],code:m[9]||"%",negative:0>parseInt(arguments[d])?!0:!1,argument:String(arguments[d])};a[a.length]=b.substring(e);if(0==f.length)return b;if(arguments.length-1<d)return null;b=null;for(b=0;b<f.length;b++)"%"==f[b].code?substitution="%":"b"==f[b].code?(f[b].argument=String(Math.abs(parseInt(f[b].argument)).toString(2)),
substitution=sprintfWrapper.convert(f[b],!0)):"c"==f[b].code?(f[b].argument=String(String.fromCharCode(parseInt(Math.abs(parseInt(f[b].argument))))),substitution=sprintfWrapper.convert(f[b],!0)):"d"==f[b].code?(f[b].argument=String(Math.abs(parseInt(f[b].argument))),substitution=sprintfWrapper.convert(f[b])):"f"==f[b].code?(f[b].argument=String(Math.abs(parseFloat(f[b].argument)).toFixed(f[b].precision?f[b].precision:6)),substitution=sprintfWrapper.convert(f[b])):"o"==f[b].code?(f[b].argument=String(Math.abs(parseInt(f[b].argument)).toString(8)),
substitution=sprintfWrapper.convert(f[b])):"s"==f[b].code?(f[b].argument=f[b].argument.substring(0,f[b].precision?f[b].precision:f[b].argument.length),substitution=sprintfWrapper.convert(f[b],!0)):"x"==f[b].code?(f[b].argument=String(Math.abs(parseInt(f[b].argument)).toString(16)),substitution=sprintfWrapper.convert(f[b])):"X"==f[b].code?(f[b].argument=String(Math.abs(parseInt(f[b].argument)).toString(16)),substitution=sprintfWrapper.convert(f[b]).toUpperCase()):substitution=f[b].match,l+=a[b],l+=
substitution;return l+=a[b]},convert:function(b,c){b.sign=c?"":b.negative?"-":b.sign;var f=b.min-b.argument.length+1-b.sign.length,f=Array(0>f?0:f).join(b.pad);return b.left?"0"==b.pad||c?b.sign+b.argument+f.replace(/0/g," "):b.sign+b.argument+f:"0"==b.pad||c?b.sign+f+b.argument:f+b.sign+b.argument}};sprintf=sprintfWrapper.init;var ha,Q={};c.extend(c.support,{touch:"ontouchstart"in document});g();var ma=g().replace(/[^\/]*$/,""),H={fit:function(b,r,f,a,d){var e,h,l=b/r,d=c.extend({noEnlarge:!1,minWidth:16,
minHeight:16},d);e=f;h=f/l;h>a&&(h=a,e=h*l);e<d.minWidth&&(e=d.minWidth,h=e/l);h<d.minHeight&&(h=d.minHeight,e=h*l);if(d.noEnlarge&&(e>b||h>r))e=b,h=r;return{left:(f-e)/2,top:(a-h)/2,width:e,height:h,margin:0}},fill:function(b,c,f,a){var d=b/c,b=f,c=f/d;c<a&&(c=a,b=c*d);return{left:(f-b)/2,top:(a-c)/2,width:b,height:c,margin:0}}},B,na=function(b,c,f){var a=[];null==c&&(c=document);null==f&&(f="*");c=c.getElementsByTagName(f);f=c.length;b=RegExp("(^|\\s)"+b+"(\\s|$)");for(j=i=0;i<f;i++)b.test(c[i].className)&&
(a[j]=c[i],j++);return a},da=function(b,c){if(B.debug)try{switch(c){case "warn":console.warn("Pixastic:",b);break;case "error":console.error("Pixastic:",b);break;default:console.log("Pixastic:",b)}}catch(f){}};if("undefined"!=typeof pixastic_parseonload&&pixastic_parseonload){var oa=!1,ea=function(){if(!oa){oa=!0;for(var b=na("pixastic",null,"img"),c=na("pixastic",null,"canvas"),f=b.concat(c),a=0;a<f.length;a++)(function(){for(var b=f[a],c=[],r=b.className.split(" "),d=0;d<r.length;d++){var e=r[d];
"pixastic-"==e.substring(0,9)&&(e=e.substring(9),""!=e&&c.push(e))}if(c.length)if("img"==b.tagName.toLowerCase())if(r=new Image,r.src=b.src,r.complete)for(r=0;r<c.length;r++)(d=B.applyAction(b,b,c[r],null))&&(b=d);else r.onload=function(){for(var f=0;f<c.length;f++){var r=B.applyAction(b,b,c[f],null);r&&(b=r)}};else setTimeout(function(){for(var f=0;f<c.length;f++){var r=B.applyAction(b,b,c[f],null);r&&(b=r)}},1)})()}};document.write('<script defer src="//:" id="__onload_ie_pixastic__"><\/script>');
var fa=document.getElementById("__onload_ie_pixastic__");fa.onreadystatechange=function(){"complete"==fa.readyState&&(fa.parentNode.removeChild(fa),ea())};document.addEventListener&&document.addEventListener("DOMContentLoaded",ea,!1);var Y=window;Y.addEventListener?Y.addEventListener("load",ea,!1):Y.attachEvent&&Y.attachEvent("onload",ea)}var Y=document.createElement("canvas"),pa=!1;try{pa=!!("function"==typeof Y.getContext&&Y.getContext("2d"))}catch(wa){}var Y=function(){return pa},ba,S=document.createElement("canvas"),
qa=!1;try{if("function"==typeof S.getContext&&(ba=S.getContext("2d")))qa="function"==typeof ba.getImageData}catch(xa){}ba=function(){return qa};var ra=!1,S=document.createElement("canvas");if(Y()&&ba()){S.width=S.height=1;S=S.getContext("2d");S.fillStyle="rgb(255,0,0)";S.fillRect(0,0,1,1);var ga=document.createElement("canvas");ga.width=ga.height=1;var sa=ga.getContext("2d");sa.fillStyle="rgb(0,0,255)";sa.fillRect(0,0,1,1);S.globalAlpha=0.5;S.drawImage(ga,0,0);ra=255!=S.getImageData(0,0,1,1).data[2]}B=
{parseOnLoad:!1,debug:!1,applyAction:function(b,c,f,a){var a=a||{},d="canvas"==b.tagName.toLowerCase();if(d&&B.Client.isIE())return B.debug&&da("Tried to process a canvas element but browser is IE."),!1;var e,h,l=!1;B.Client.hasCanvas()&&(l=!!a.resultCanvas,e=a.resultCanvas||document.createElement("canvas"),h=e.getContext("2d"));var m=b.offsetWidth,q=b.offsetHeight;d&&(m=b.width,q=b.height);if(0==m||0==q)if(null==b.parentNode){var u=b.style.position,p=b.style.left;b.style.position="absolute";b.style.left=
"-9999px";document.body.appendChild(b);m=b.offsetWidth;q=b.offsetHeight;document.body.removeChild(b);b.style.position=u;b.style.left=p}else{B.debug&&da("Image has 0 width and/or height.");return}if(-1<f.indexOf("(")&&(u=f,f=u.substr(0,u.indexOf("(")),u=u.match(/\((.*?)\)/),u[1])){u=u[1].split(";");for(p=0;p<u.length;p++)if(thisArg=u[p].split("="),2==thisArg.length)if("rect"==thisArg[0]){var s=thisArg[1].split(",");a[thisArg[0]]={left:parseInt(s[0],10)||0,top:parseInt(s[1],10)||0,width:parseInt(s[2],
10)||0,height:parseInt(s[3],10)||0}}else a[thisArg[0]]=thisArg[1]}a.rect?(a.rect.left=Math.round(a.rect.left),a.rect.top=Math.round(a.rect.top),a.rect.width=Math.round(a.rect.width),a.rect.height=Math.round(a.rect.height)):a.rect={left:0,top:0,width:m,height:q};u=!1;B.Actions[f]&&"function"==typeof B.Actions[f].process&&(u=!0);if(!u)return B.debug&&da('Invalid action "'+f+'". Maybe file not included?'),!1;if(!B.Actions[f].checkSupport())return B.debug&&da('Action "'+f+'" not supported by this browser.'),
!1;B.Client.hasCanvas()?(e!==b&&(e.width=m,e.height=q),l||(e.style.width=m+"px",e.style.height=q+"px"),h.drawImage(c,0,0,m,q),b.__pixastic_org_image?(e.__pixastic_org_image=b.__pixastic_org_image,e.__pixastic_org_width=b.__pixastic_org_width,e.__pixastic_org_height=b.__pixastic_org_height):(e.__pixastic_org_image=b,e.__pixastic_org_width=m,e.__pixastic_org_height=q)):B.Client.isIE()&&"undefined"==typeof b.__pixastic_org_style&&(b.__pixastic_org_style=b.style.cssText);c={image:b,canvas:e,width:m,height:q,
useData:!0,options:a};return!B.Actions[f].process(c)?!1:B.Client.hasCanvas()?(c.useData&&B.Client.hasCanvasImageData()&&(e.getContext("2d").putImageData(c.canvasData,a.rect.left,a.rect.top),e.getContext("2d").fillRect(0,0,0,0)),a.leaveDOM||(e.title=b.title,e.imgsrc=b.imgsrc,d||(e.alt=b.alt),d||(e.imgsrc=b.src),e.className=b.className,e.style.cssText=b.style.cssText,e.name=b.name,e.tabIndex=b.tabIndex,e.id=b.id,b.parentNode&&b.parentNode.replaceChild&&b.parentNode.replaceChild(e,b)),a.resultCanvas=
e):b},prepareData:function(b,c){var f=b.canvas.getContext("2d"),a=b.options.rect,f=f.getImageData(a.left,a.top,a.width,a.height),a=f.data;c||(b.canvasData=f);return a},process:function(b,c,f,a){if("img"==b.tagName.toLowerCase()){var d=new Image;d.src=b.src;if(d.complete){var e=B.applyAction(b,d,c,f);a&&a(e);return e}d.onload=function(){var e=B.applyAction(b,d,c,f);a&&a(e)}}if("canvas"==b.tagName.toLowerCase())return e=B.applyAction(b,b,c,f),a&&a(e),e},revert:function(b){if(B.Client.hasCanvas()){if("canvas"==
b.tagName.toLowerCase()&&b.__pixastic_org_image)return b.width=b.__pixastic_org_width,b.height=b.__pixastic_org_height,b.getContext("2d").drawImage(b.__pixastic_org_image,0,0),b.parentNode&&b.parentNode.replaceChild&&b.parentNode.replaceChild(b.__pixastic_org_image,b),b}else B.Client.isIE()&&"undefined"!=typeof b.__pixastic_org_style&&(b.style.cssText=b.__pixastic_org_style)},Client:{hasCanvas:Y,hasCanvasImageData:ba,hasGlobalAlpha:function(){return ra},isIE:function(){return!!document.all&&!!window.attachEvent&&
!window.opera}},Actions:{}};B.Actions.blurfast={process:function(b){var c=parseFloat(b.options.amount)||0,f=!!(b.options.clear&&"false"!=b.options.clear),c=Math.max(0,Math.min(5,c));if(B.Client.hasCanvas()){var a=b.options.rect,d=b.canvas.getContext("2d");d.save();d.beginPath();d.rect(a.left,a.top,a.width,a.height);d.clip();var e=Math.round(b.width/2),h=Math.round(b.height/2),l=document.createElement("canvas");l.width=e;l.height=h;for(var f=!1,c=Math.round(20*c),m=l.getContext("2d"),q=0;q<c;q++){var u=
Math.max(1,Math.round(e-q)),p=Math.max(1,Math.round(h-q));m.clearRect(0,0,e,h);m.drawImage(b.canvas,0,0,b.width,b.height,0,0,u,p);f&&d.clearRect(a.left,a.top,a.width,a.height);d.drawImage(l,0,0,u,p,0,0,b.width,b.height)}d.restore();b.useData=!1;return!0}if(B.Client.isIE())return f=10*c,b.image.style.filter+=" progid:DXImageTransform.Microsoft.Blur(pixelradius="+f+")",b.image.style.marginLeft=(parseInt(b.image.style.marginLeft,10)||0)-Math.round(f)+"px",b.image.style.marginTop=(parseInt(b.image.style.marginTop,
10)||0)-Math.round(f)+"px",!0},checkSupport:function(){return B.Client.hasCanvas()||B.Client.isIE()}};$.prototype.scale=function(b){this.scaleFactor=b;this.originalSettings||(this.originalSettings=c.extend(!0,{},this.settings));this.settings=c.extend(!0,{},this.originalSettings);this.settings.image.cornerRadius*=b;this.settings.caption.fontSize*=b;this.settings.thumbnail.width*=b;this.settings.thumbnail.height*=b;this.settings.thumbnail.cornerRadius*=b;this.originalSize||(this.originalSize={width:this.canvas.width(),
height:this.canvas.height()});this.canvas.resize(this.originalSize.width*b,this.originalSize.height*b);this.render({animate:!1})};$.prototype.render=function(b){var b=c.extend({animate:!0},b),r=this,f=this.settings,a=this.canvas,d=this.items;a.empty();var e=c('<div class="altgallery-imageFrame"></div>'),h={position:"absolute"};if(f.thumbBar.useThumbBar)switch(f.thumbBar.position.toLowerCase()){default:case "bottom":h.left=10;h.top=10;h.width=a.width()-20;h.height=a.height()-f.thumbnail.height-30;
break;case "top":h.left=10;h.bottom=10;h.width=a.width()-20;h.height=a.height()-f.thumbnail.height-30;break;case "left":h.right=10;h.top=10;h.width=a.width()-f.thumbnail.width-30;h.height=a.height()-20;break;case "right":h.left=10,h.top=10,h.width=a.width()-f.thumbnail.width-30,h.height=a.height()-20}else h.left=10,h.top=10,h.width=a.width()-20,h.height=a.height()-20;e.css(h);a.element.append(e);if(f.thumbBar.useThumbBar){var l=r.thumbBar=c('<div class="altgallery-thumbBar"></div>'),m,q,u,p,s,e={};
switch(f.thumbBar.position.toLowerCase()){default:case "bottom":m="horizontal";q=a.width()-20;u=f.thumbnail.height+4;p=d.length*(f.thumbnail.width+5)-5;s=u;e.left=10;e.bottom=7;e.width=q;e.height=u;break;case "top":m="horizontal";q=a.width()-20;u=f.thumbnail.height+4;p=d.length*(f.thumbnail.width+5)-5;s=u;e.left=10;e.top=9;e.width=q;e.height=u;break;case "left":m="vertical";q=f.thumbnail.width+4;u=a.height()-20;p=q;s=d.length*(f.thumbnail.height+5)-5;e.left=9;e.top=10;e.width=q;e.height=u;break;case "right":m=
"vertical",q=f.thumbnail.width+4,u=a.height()-20,p=q,s=d.length*(f.thumbnail.height+5)-5,e.right=8,e.top=10,e.width=q,e.height=u}e.position="absolute";e.overflow="hidden";l.css(e);var C=c("<div/>");C.css({position:"relative",width:p,height:s});for(e=0;e<d.length;e++)(function(b){var a=c('<a href="'+d[b].source+'"></a>');a.css({position:"absolute",left:"horizontal"==m?b*(f.thumbnail.width+5):1,top:"horizontal"==m?1:b*(f.thumbnail.height+5),width:f.thumbnail.width-4,height:f.thumbnail.height-4,overflow:"hidden",
border:"2px solid",borderColor:A(f.thumbnail.outlineColor),"-moz-border-radius":f.thumbnail.cornerRadius/2,"-webkit-border-radius":f.thumbnail.cornerRadius/2,"-khtml-border-radius":f.thumbnail.cornerRadius/2,borderRadius:f.thumbnail.cornerRadius/2,opacity:f.thumbnail.alpha/100});a.hover(function(){var b=c(this);b.hasClass("altgallery-active")||(b.data("style",{opacity:b.css("opacity"),borderColor:b.css("borderTopColor")}),b.css({borderColor:A(f.thumbnail.outlineColorOnRollOver),opacity:1}))},function(){var b=
c(this);b.hasClass("altgallery-active")||b.css(b.data("style"))});r.onOpenItem[b]=function(){var c=l.find("a").eq(b);c.parent().find("a").removeClass("altgallery-active").css({opacity:f.thumbnail.alpha/100,borderColor:A(f.thumbnail.outlineColor)});c.addClass("altgallery-active").data("style",{opacity:1,borderColor:A(f.thumbnail.outlineColorOnClick)}).css(c.data("style"));var r;if("horizontal"==m&&q<p){var a=0-(b*(f.thumbnail.width+5)-q/2+f.thumbnail.width/2),c=0-p+q;0<a&&(a=0);a<c&&(a=c);C.animate({left:a});
C.unbind("mouseleave").mouseleave(function(){r=setTimeout(function(){C.animate({left:a},1E3)},1E3)})}else u<s&&(a=0-(b*(f.thumbnail.height+5)-u/2+f.thumbnail.height/2),c=0-s+u,0<a&&(a=0),a<c&&(a=c),C.animate({top:a}),C.unbind("mouseleave").mouseleave(function(){r=setTimeout(function(){C.animate({top:a},1E3)},1E3)}));C.unbind("mouseenter").mouseenter(function(){clearTimeout(r)})};a.click(function(){if(!r.drag){var f=r.currentItem;r.currentItem=b;c(this).hasClass("altgallery-active")||r.open(d[b],{direction:b>=
f?"next":"prev"})}return!1});C.append(a);var e=new Image;e.onload=function(){var r=c('<img src="'+d[b].thumb+'"/>');T(r);r.css({position:"absolute",border:"none"});r.css(H.fill(this.width,this.height,f.thumbnail.width-4,f.thumbnail.height-4));f.thumbnail.useShadow&&a.css({"-moz-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)","-webkit-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)","-khtml-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)",boxShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)"});a.append(r)};e.src=d[b].thumb})(e);
l.append(C);var F=function(){clearInterval(g);D=!1},g,D=!1;"horizontal"==m&&q<p?(l.mousemove(function(b){if(!r.drag){var d=a.scale()||1,b=(b.pageX-c(this).offset().left)/d;b<30*d?D||(D=!0,C.stop(),g=setInterval(function(){var b=parseInt(C.css("left"))+parseInt(f.thumbBar.scrollSpeed);0<b?(C.css("left",0),F()):C.css("left",b)},25)):b>q-30*d?D||(D=!0,C.stop(),g=setInterval(function(){var b=parseInt(C.css("left"))-parseInt(f.thumbBar.scrollSpeed),c=0-p+q;b<c?(C.css("left",c),F()):C.css("left",b)},25)):
F()}}),C.draggable({axis:"x",start:function(){r.drag=!0},stop:function(b,c){var f=c.position.left,a=0-p+q;0<f?C.animate({left:0},"fast"):f<a&&C.animate({left:a},"fast");setTimeout(function(){r.drag=!1},100)}})):u<s&&(l.mousemove(function(b){if(!r.drag){var d=a.scale()||1,b=(b.pageY-c(this).offset().top)/d;b<30*d?D||(D=!0,C.stop(),g=setInterval(function(){var b=parseInt(C.css("top"))+parseInt(f.thumbBar.scrollSpeed);0<b?(C.css("top",0),F()):C.css("top",b)},25)):b>u-30*d?D||(D=!0,C.stop(),g=setInterval(function(){var b=
parseInt(C.css("top"))-parseInt(f.thumbBar.scrollSpeed),c=0-s+u;b<c?(C.css("top",c),F()):C.css("top",b)},25)):F()}}),C.draggable({axis:"y",start:function(){r.drag=!0},stop:function(b,c){var f=c.position.top,a=0-s+u;0<f?C.animate({top:0},"fast"):f<a&&C.animate({top:a},"fast");setTimeout(function(){r.drag=!1},100)}}));l.mouseleave(function(){F()});a.element.append(l)}r.open(r.getCurrentItem(),{transitionEffect:b.animate?f.image.transitionEffect.toLowerCase():"none"})};$.prototype.open=function(b,r){r=
r||{};if(r.direction)var f=r.direction;var a=this,d=this.settings,e=this.scaleFactor,h=this.canvas.element.find(".altgallery-imageFrame"),l=this.preloader.get();l.css({position:"absolute",left:"50%",top:"50%",zIndex:10,margin:"-16px 0 0 -16px"}).hide();h.append(l);var m=setTimeout(function(){l.show();a.preloader.start()},500);z(b.source,function(q){if(b.id===a.currentItem){clearTimeout(m);a.preloader.stop();l.remove();var u=d.image.scaleMode.toLowerCase(),p="fill"==u?H.fill(q.width,q.height,h.width(),
h.height()):H.fit(q.width,q.height,h.width(),h.height()),s;b.link?(s=c("<a></a>"),s.attr("href",b.link),b.target&&s.attr("target",b.target)):s=c("<div/>");s.click(function(){if(a.drag)return!1});s.addClass("altgallery-image");s.css({display:"block",position:"absolute",left:"fill"==u?0:p.left,top:"fill"==u?0:p.top,width:"fill"==u?h.width():p.width,height:"fill"==u?h.height():p.height,overflow:"hidden",textDecoration:"none","-moz-border-radius":d.image.cornerRadius/2,"-webkit-border-radius":d.image.cornerRadius/
2,"-khtml-border-radius":d.image.cornerRadius/2,borderRadius:d.image.cornerRadius/2});d.image.useShadow&&s.css({"-moz-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)","-webkit-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)","-khtml-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)",boxShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)"});var C=c('<img src="'+q.src+'"/>');T(C);C.css({position:"absolute",left:"fill"==u?p.left:0,top:"fill"==u?p.top:0,width:p.width,height:p.height});s.append(C);var F=c("<div/>");b.description&&
"never"!=d.caption.visibleMode.toLowerCase()&&(F.html(b.description.replace("\n","<br/>")),F.css({position:"absolute",left:0,width:p.width-20*a.scaleFactor,padding:9*a.scaleFactor+"px "+10*a.scaleFactor+"px",fontFamily:d.caption.fontName,fontSize:d.caption.fontSize,lineHeight:1.25,color:A(d.caption.color),background:O(d.caption.bgColor,d.caption.bgAlpha/100)}),"top"==d.caption.position.toLowerCase()?(F.css({top:0,borderBottom:"1px solid",borderBottomColor:O("#000000",(d.caption.bgAlpha+10)/100)}),
"onrollover"==d.caption.visibleMode.toLowerCase()&&(w()||F.css({top:-(F.height()+18)}).hide(),s.hover(function(){F.show().stop().animate({top:0},a.options.animation.duration)},function(){F.stop().animate({top:-(F.height()+18)},a.options.animation.duration,function(){F.hide()})}))):(F.css({bottom:0,borderTop:"1px solid",borderTopColor:O("#000000",(d.caption.bgAlpha+10)/100)}),"onrollover"==d.caption.visibleMode.toLowerCase()&&(w()||F.css({bottom:-(F.height()+18)}).hide(),s.hover(function(){F.show().stop().animate({bottom:0},
a.options.animation.duration)},function(){F.stop().animate({bottom:-(F.height()+18)},a.options.animation.duration,function(){F.hide()})}))),s.append(F));u=d.thumbBar.position.toLowerCase();u=!("left"==u||"right"==u);switch(r.transitionEffect||d.image.transitionEffect.toLowerCase()){default:case "fade":h.animate({opacity:0},{duration:500*d.image.transitionDuration,easing:"linear",complete:function(){h.empty();h.append(s);h.animate({opacity:1},{duration:500*d.image.transitionDuration,easing:"swing",
complete:function(){a.onOpen(q)}})}});break;case "slide":h.find(".altgallery-image").not(":last").remove();var g=h.find(".altgallery-image"),p="prev"==f?1:-1,D="easeOutCubic",n=1E3*d.image.transitionDuration;if(u){C=h.outerWidth(!1)+10;g.size()&&g.stop().animate({left:g.position().left+C*p},n,D,function(){g.remove()});h.append(s);var t=s.position().left;s.css({left:t+C*-p}).animate({left:t},n,D,function(){a.onOpen(q)})}else C=h.outerHeight(!1)+10,g.size()&&g.stop().animate({top:g.position().top+C*
p},n,D,function(){g.remove()}),h.append(s),t=s.position().top,s.css({top:t+C*-p}).animate({top:t},n,D,function(){a.onOpen(q)});break;case "xfade":case "crossfade":h.css({opacity:1});h.find(".altgallery-image").not(":last").remove();g=h.find(".altgallery-image");p=1E3*d.image.transitionDuration;g.size()?(g.animate({opacity:0},{duration:p,easing:"linear",complete:function(){c(this).remove();a.onOpen(q)}}),h.append(s),s.css({opacity:0}).animate({opacity:1},{duration:p,easing:"linear"})):(h.append(s),
s.css({opacity:0}).animate({opacity:1},{duration:p,easing:"linear",complete:function(){a.onOpen(q)}}));break;case "none":h.html(s),a.onOpen(q)}var v,n=a.options.animation.duration,D="easeOutQuad",x={transitionEffect:"slide"};u?s.draggable({axis:"x",start:function(){v=s.position().left;F.hide()},stop:function(b,c){c.position.left>v+30*e?(s.animate({left:h.outerWidth(!1)+15*e},n,D),a.prev(x)):c.position.left<v-30*e?(s.animate({left:-(h.outerWidth(!1)+15*e)},n,D),a.next(x)):(s.animate({left:v},"fast"),
F.show())}}):s.draggable({axis:"y",start:function(){v=s.position().top;F.hide()},stop:function(b,c){c.position.top>v+30*e?(s.animate({top:h.outerHeight(!1)+15*e},n,D),a.prev(x)):c.position.top<v-30*e?(s.animate({top:-(h.outerHeight(!1)+15*e)},n,D),a.next(x)):(s.animate({top:v},"fast"),F.show())}});a.onOpenItem[parseInt(b.id)]()}})};$.prototype.prev=function(b){b=b||{};b.direction="prev";0<this.currentItem?this.currentItem--:this.currentItem=this.items.length-1;this.open(this.getCurrentItem(),b)};
$.prototype.next=function(b){b=b||{};b.direction="next";this.currentItem<this.items.length-1?this.currentItem++:this.currentItem=0;this.open(this.getCurrentItem(),b)};$.prototype.slideshowStart=function(){var b=this;b.slideshow=!0;b.onOpen=function(){b.slideshowTimer&&clearInterval(b.slideshowTimer);b.slideshowTimer=setTimeout(function(){b.next()},1E3*b.settings.slideshow.delay)};if(b.settings.slideshow.stopAutoOnClick){var c=function(){b.slideshowStop();b.canvas.element.unbind("click",c).find("a").unbind("click",
c)};b.canvas.element.bind("click",c).find("a").bind("click",c)}};$.prototype.slideshowStop=function(){this.onOpen=function(){};this.slideshow=!1;clearInterval(this.slideshowTimer)};N.prototype.scale=function(b){this.scaleFactor=b;this.originalSize||(this.originalSize={width:this.canvas.width(),height:this.canvas.height()});this.canvas.resize(this.originalSize.width*b,this.originalSize.height*b);this.canvas.empty();this.init()};N.prototype.init=function(){var b=this,c=this.settings;b.prevItem=null;
b.initPreloader();b.initImage();b.initNavigation();b.initThumbnails();b.initCaption();b.initButtons();var f,a=b.currentItem;if((f=location.hash.match(/#galleryPhotoNumber=(\d+)/))||(f=location.href.match(/[?&]galleryPhotoNumber=(\d+)/)))a=f[1]-1;b.open(b.items[a],function(){c.slideshow.start&&b.slideshowStart()})};N.prototype.initPreloader=function(){var b=this.canvas;this.preloader=(new aa(this.options.images.loader)).get();this.preloader.attr({src:this.options.images.loader}).css({position:"absolute",
left:"50%",top:"50%",zIndex:100,margin:"-16px 0 0 -16px"});b.append(this.preloader)};N.prototype.initImage=function(){var b=this,a=this.canvas,f=this.settings,d=this.scaleFactor;0==f.image.padding&&(b.zeroPadding=!0,f.image.padding=10);var e=c("<div/>");e.css({position:"absolute",left:0,top:0,width:a.width(),height:a.height()});a.append(e);if(!b.zeroPadding){var k=b.background=c("<div/>");k.css({position:"absolute",left:0,top:0,zIndex:0,width:a.width(),height:a.height(),overflow:"hidden",background:A(f.image.bgTintColor)});
e.append(k)}var h=b.imageFrame=c("<div/>");h.css({position:"absolute",left:f.image.padding*d,top:f.image.padding*d,zIndex:1,width:a.width()-2*f.image.padding*d,height:a.height()-2*f.image.padding*d,overflow:"visible"});e.append(h);a.scale();var l;h.draggable({axis:"x",start:function(b,c){l=c.position.left},stop:function(c,e){e.position.left>l+30?h.animate({left:a.width()},function(){h.empty();b.prev()}):e.position.left<l-30?h.animate({left:-a.width()},function(){h.empty();b.next()}):h.animate({left:f.image.padding*
d},"fast")}});e.click(function(){b.thumbBar.is(":visible")?b.thumbBar.stop().fadeOut():b.thumbBar.stop().fadeIn()})};N.prototype.initNavigation=function(){this.settings.buttons.showImageNavigationButtons&&(this.initPrevButton(),this.initNextButton())};N.prototype.initPrevButton=function(){var b=this,a=this.canvas,f=this.scaleFactor,d=b.prevButton=c("<div/>");d.css({position:"absolute",left:-10*f,top:(a.height()-69*f)/2,zIndex:1,width:72*f,height:69*f,background:"no-repeat center 0",backgroundImage:E(b.options.images.folder+
"aura-arrows.png"),backgroundSize:32*f+"px "+144*f+"px",opacity:0.5,cursor:"pointer"}).hover(function(){c(this).css({opacity:1})},function(){c(this).css({opacity:0.5})}).click(function(){b.prev();return!1});a.append(d)};N.prototype.initNextButton=function(){var b=this,a=this.canvas,f=this.scaleFactor,d=b.nextButton=c("<div/>");d.css({position:"absolute",right:-10*f,top:(a.height()-69*f)/2,zIndex:1,width:72*f,height:69*f,background:"no-repeat center "+-75*f+"px",backgroundImage:E(b.options.images.folder+
"aura-arrows.png"),backgroundSize:32*f+"px "+144*f+"px",opacity:0.5,cursor:"pointer"}).hover(function(){c(this).css({opacity:1})},function(){c(this).css({opacity:0.5})}).click(function(){b.next();return!1});a.append(d)};N.prototype.initThumbnails=function(){var b=this,a=this.canvas,f=this.settings,d=this.items,e=this.scaleFactor,k=a.width(),h=b.thumbBar=c("<div/>");h.css({position:"absolute",left:0,bottom:0,zIndex:1,width:k,height:f.thumbnail.height*e+20*e+15+15*e*b.scale2,background:"rgba(0,0,0,0.5)"});
var l=c("<div/>");l.css({position:"absolute",left:0,top:14+15*e*b.scale2,width:a.width(),height:1,background:"#fff",opacity:0.7});x(l,{boxShadow:"0 1px 0 #000"});h.append(l);var m=c('<div class="altgallery-thumbnails"/>');m.css({position:"absolute",left:0,bottom:10*e});var q=d.length*(f.thumbnail.width*e+10),l=Math.ceil(q/k),k=1<l?0:(k-q)/2-5,u,p=!1;a.element.mouseenter(function(){h.stop().show().animate({opacity:1})});a.element.mouseleave(function(){p=!1;clearInterval(u);h.stop().animate({opacity:0})});
1<l&&(h.mousemove(function(b){b=b.pageX-c(this).offset().left;b/=a.scale()||1;50>b?p||(p=!0,u=setInterval(function(){var b=parseInt(m.css("left"))+10;0<b&&(b=0);m.css({left:b})},25)):b>a.width()-50?p||(p=!0,u=setInterval(function(){var b=parseInt(m.css("left"))-10,c=-(q-a.width()+10);b<c&&(b=c);m.css({left:b})},25)):(p=!1,clearInterval(u))}).mouseleave(function(){p=!1;clearInterval(u)}),m.draggable({axis:"x",start:function(){b.drag=!0},stop:function(c,f){var d=f.position.left,e=-(q-a.width()+10);
0<d?m.animate({left:0},"fast"):d<e&&m.animate({left:e},"fast");setTimeout(function(){b.drag=!1},100)}}));for(l=0;l<d.length;l++){var s=c("<a></a>");s.attr({href:d[l].source}).css({position:"absolute",left:10*e+l*(f.thumbnail.width*e+10*e)+k,bottom:0,width:f.thumbnail.width*e,height:f.thumbnail.height*e,overflow:"hidden",opacity:parseInt(f.thumbnail.alpha)/100});(function(a,r){r.hover(function(){c(this).css({opacity:1});x(this,{boxShadow:"0 0 6px #fff"})},function(){a!=b.currentItem&&(c(this).css({opacity:parseInt(f.thumbnail.alpha)/
100}),x(this,{boxShadow:"none"}))}).click(function(){b.drag||b.open(d[a],function(){});return!1});z(d[a].thumb,function(b){var a=c("<img/>");a.attr({src:b.src});a.css({position:"absolute"});a.css(H.fill(b.width,b.height,f.thumbnail.width*e,f.thumbnail.height*e));r.append(a)},50*a)})(l,s);m.append(s)}h.append(m);a.append(h)};N.prototype.initCaption=function(){var b=this.canvas,a=this.scaleFactor,f=this.caption=c("<div/>");if(this.settings.caption.showCaption){var d=a*this.scale2;f.css({position:"absolute",
left:10*a,top:8,width:b.width()-100,height:16*d,lineHeight:16*d+"px",overflow:"hidden",fontFamily:'"Times New Roman", Times, serif',fontSize:12*d+"px",fontWeight:"bold",color:"#fff",textShadow:"0 1px 0 #000"});this.thumbBar.append(f)}};N.prototype.initButtons=function(){function b(){c(this).css({opacity:1})}function a(){c(this).css({opacity:0.5})}var f=this,d=this.settings,e=this.scaleFactor,k=c("<div/>");k.css({position:"absolute",right:5,top:7});var h={cssFloat:"left",width:16*e*f.scale2,height:16*
e*f.scale2,margin:"0 0 0 4px",backgroundImage:E(f.options.images.folder+"aura-buttons.png"),backgroundRepeat:"no-repeat",backgroundSize:16*e*f.scale2+"px "+96*e*f.scale2+"px",opacity:0.5,cursor:"pointer"},l=f.linkButton=c("<div/>");d.buttons.showLinkButton&&(l.prop({title:d.translation.getLink}).css(h).css({backgroundPosition:"0 "+-40*e*f.scale2+"px"}).click(function(){var b=f.getCurrentItem();b.link&&I(b.link,b.target||"_blank")}).hover(b,a),k.append(l));d.buttons.showFacebookButton&&(l=c("<div/>"),
l.prop({title:d.translation.shareWithFacebook}).css(h).css({backgroundPosition:"0 "+-60*e*f.scale2+"px"}).click(function(){I("http://www.facebook.com/sharer.php?u="+location.href+"%23galleryPhotoNumber="+(f.currentItem+1)+"&t="+f.getCurrentItem().description||"","_blank")}).hover(b,a),k.append(l));d.buttons.showTwitterButton&&(l=c("<div/>"),l.prop({title:d.translation.tweet}).css(h).css({backgroundPosition:"0 "+-80*e*f.scale2+"px"}).click(function(){I("https://twitter.com/intent/tweet?url="+location.href+
"%23galleryPhotoNumber="+(f.currentItem+1)+"&text="+f.getCurrentItem().description||"","_blank")}).hover(b,a),k.append(l));if(d.buttons.showLinkButton||d.buttons.showFacebookButton||d.buttons.showTwitterButton)l=c("<div/>"),l.css({cssFloat:"left",width:1,height:14*e*f.scale2,margin:"0 3px 0 5px",background:"#fff"}),k.append(l);d.buttons.showSlideshowButton&&(l=c("<div/>"),l.prop({title:d.translation.startSlideshow}).css(h).css({backgroundPosition:"0 0"}).click(function(){f.slideshow?(f.slideshowStop(),
c(this).css({backgroundPosition:"0 0"})):(f.slideshowStart(),c(this).css({backgroundPosition:"0 "+-20*e*f.scale2+"px"}))}).hover(b,a),k.append(l));f.thumbBar.append(k)};N.prototype.update=function(){this.updateThumbnails();this.updateNavigation();this.updateCaption()};N.prototype.updateThumbnails=function(){var b=this,a=0;b.thumbBar.find(".altgallery-thumbnails a").each(function(){var f=c(this);a==b.currentItem?(f.css({opacity:1}),x(f,{boxShadow:"0 0 6px #fff"})):(f.css({opacity:parseInt(b.settings.thumbnail.alpha)/
100}),x(f,{boxShadow:"none"}));a++})};N.prototype.updateNavigation=function(){this.settings.buttons.showImageNavigationButtons&&(0==this.currentItem?this.prevButton.hide():this.prevButton.show(),this.currentItem==this.items.length-1?this.nextButton.hide():this.nextButton.show())};N.prototype.updateCaption=function(b){b=b||this.getCurrentItem().description||this.settings.translation.image+" "+(this.currentItem+1)+"/"+this.items.length;this.caption.html(b.replace("\n","<br/>"))};N.prototype.open=function(b,
a){var f=this,d=this.canvas,e=this.settings,k=this.scaleFactor;if(b.id!==f.prevItem){f.currentItem=b.id;f.getCurrentItem().link?f.linkButton.show():f.linkButton.hide();var h=setTimeout(function(){f.preloader.show();f.preloader.start()},500);z(b.source,function(b){clearTimeout(h);f.preloader.hide();f.preloader.stop();f.imageFrame.stop().css({left:e.image.padding*k});var m=c("<img/>");m.attr({src:b.src}).css({position:"absolute"});var q,u=f.imageFrame.width(),p=f.imageFrame.height();"fill"==e.image.scaleMode?
(q=H.fill(b.width,b.height,u,p),q.width>u&&(q.width=u,q.left=0),q.height>p&&(q.height=p,q.top=0)):q=H.fit(b.width,b.height,u,p);m.css(H.fill(b.width,b.height,q.width,q.height));var s=f.imageFrame.find("div"),u=c("<div/>");u.css({position:"absolute",overflow:"hidden"}).css(q).hide();x(u,{boxShadow:"0 6px 6px rgba(0,0,0,0.6)"});u.append(m);f.imageFrame.append(u);s.animate({opacity:"hide"},f.options.animation.duration);u.animate({opacity:"show"},f.options.animation.duration,function(){s.remove()});if(!f.zeroPadding){m=
c("<img/>");m.attr({src:b.src}).css({position:"absolute"});m.css(H.fill(b.width,b.height,d.width(),d.height()));var g=f.background.find("div");q=c("<div/>");q.css({opacity:0});q.append(m);f.background.append(q);B.process(m.get(0),"blurfast",{amount:1.5});g.animate({opacity:0},2*f.options.animation.duration);q.animate({opacity:0.5},2*f.options.animation.duration,function(){g.remove()})}"function"==typeof a&&a(b);z(f.items[(f.currentItem+1)%f.items.length].source)});f.update();f.prevItem=f.currentItem}};
N.prototype.prev=function(b){0<this.currentItem?this.open(this.items[this.currentItem-1],b):this.open(this.items[this.items.length-1],b)};N.prototype.next=function(b){this.currentItem<this.items.length-1?this.open(this.items[this.currentItem+1],b):this.open(this.items[0],b)};N.prototype.slideshowStart=function(){var b=this,c=this.settings;if(!b.slideshow){var f=function(){b.slideshowTimeoutId=setTimeout(function(){b.next(f)},1E3*c.slideshow.delay+2E3)};b.slideshow=!0;setTimeout(function(){b.next(f)},
1E3*c.slideshow.delay)}};N.prototype.slideshowStop=function(){this.slideshow&&(this.slideshow=!1,clearTimeout(this.slideshowTimeoutId))};W.prototype.scale=function(b){this.scaleFactor=b;this.originalSize||(this.originalSize={width:this.canvas.width(),height:this.canvas.height()});this.canvas.resize(this.originalSize.width*b,this.originalSize.height*b);this.canvas.empty();this.render({animate:!1});this.imageOpened&&this.open(this.getCurrentItem(),{animate:!1})};W.prototype.render=function(b){var a=
this,f=this.canvas,d=this.items,e=this.settings,k=this.scaleFactor,b=c.extend({animate:!0},b);f.element.empty();var h=f.width(),l=f.height(),m=Math.floor(e.thumbnail.width*k),q=Math.floor(e.thumbnail.height*k),u=Math.floor((h-40)/m);1>u&&(u=1);var p=Math.floor((l-40)/q);1>p&&(p=1);var s=Math.ceil(d.length/u);p>s&&(p=s);var g=u*p,F=a.pagesCount=Math.ceil(d.length/g),n=Math.floor(m)+2*k,D=Math.floor(q)+2*k,t=Math.floor((h-n*u)/2-8*k),v=Math.floor((l-D*p)/2-8*k),w=a.pageWidth=n*u,V=a.pageHeight=D*p,
s=c('<div class="altgallery-frame"/>'),l={position:"absolute",left:t,top:v,width:Math.floor(h-2*(t+8*k))+14*k,height:Math.floor(l-2*(v+8*k))+14*k,background:A(e.colorScheme.thumbsFrameColor)},l=c.extend(l,x({borderRadius:4*k+"px"}));e.colorScheme.useShadow&&(l=c.extend(l,x({boxShadow:"0 0 "+10*k+"px rgba(0, 0, 0, 0.5)"})));s.css(l);f.element.append(s);h=c('<div class="altgallery-frameMask"/>');l=c.extend(l,{background:"#000",opacity:0.6,zIndex:20});l=c.extend(l,x({boxShadow:"none"}));h.css(l).hide();
f.element.append(h);f=c("<div/>");f.css({position:"absolute",left:8*k,top:8*k,width:w-2,height:V-2,overflow:"hidden"});var ca=a.imagesContainer=c("<div/>");ca.css({position:"relative",left:0,top:0,width:n*u*F-2,height:D*p-2});f.append(ca);s.append(f);a.drag=!1;var ia=0;ca.draggable({axis:"x",start:function(b,c){ia=c.position.left;a.drag=!0},stop:function(b,c){c.position.left>ia+30*k?a.prevPage():c.position.left<ia-30*k?a.nextPage():a.placePage({duration:"fast"});setTimeout(function(){a.drag=!1},100)}});
for(f=0;f<d.length;f++)F=f%u*n+Math.floor(f/g)*w,h=Math.floor(f/u)%p*D,function(f,l,h){var k=c("<img/>"),p=c("<a/>");p.attr({href:d[f].source}).css({display:"block",position:"absolute",left:Math.floor(l),top:Math.floor(h+0.5*q),width:m,height:q,overflow:"hidden",opacity:0,background:A(e.colorScheme.imageBGColor),border:"none",margin:0,padding:0}).click(function(){return!1});ca.append(p);var s=function(){p.click(function(){a.drag||(a.currentItem=f,a.open(d[f],{left:f%u*n+t,top:h+v}));return!1}).mouseover(function(){k.stop().animate({opacity:1},
a.options.animation.duration/2)}).mouseleave(function(){k.stop().animate({opacity:e.thumbnail.alpha/100},a.options.animation.duration/2)})};b.animate&&f>=a.page*g&&f<a.page*g+g?setTimeout(function(){p.animate({top:h,opacity:1},{duration:a.options.animation.duration,complete:s})},200*f):(p.css({top:h,opacity:1}),s());z(d[f].thumb,function(b){k.attr({src:b.src}).css({display:"block",position:"absolute",margin:0,padding:0,border:"none",opacity:e.thumbnail.alpha/100}).css(H.fill(b.width,b.height,m,q));
p.append(k)},200*f)}(f,F,h);p=30*k;D=a.prevPageButton=c("<div/>");D.css({position:"absolute",left:0,top:V/2-22*k,width:40*k,height:60*k,cursor:"pointer"});D.click(function(){a.prevPage()});w=c("<div/>");w.css({position:"absolute",left:5*k,top:15*k,width:p,height:p,background:E(a.options.images.folder+"left.png"),backgroundSize:p+"px "+p+"px",cursor:"pointer"});x(w,{borderRadius:4*k+"px"});D.append(w);s.append(D);D=a.nextPageButton=c("<div/>");D.css({position:"absolute",right:0,top:V/2-22*k,width:40*
k,height:60*k,cursor:"pointer"});D.click(function(){a.nextPage()});V=c("<div/>");V.css({position:"absolute",right:5*k,top:15*k,width:p,height:p,background:E(a.options.images.folder+"right.png"),backgroundSize:p+"px "+p+"px",cursor:"pointer"});x(V,{borderRadius:4*k+"px"});D.append(V);s.append(D);s.mouseover(function(){a.showControls()});s.mouseleave(function(){a.hideControls()});a.hideControls();a.showControls();a.placePage({animate:!1})};W.prototype.hideControls=function(){this.prevPageButton.hide();
this.nextPageButton.hide()};W.prototype.showControls=function(){0<this.page&&this.prevPageButton.show();this.page<this.pagesCount-1&&this.nextPageButton.show()};W.prototype.open=function(b,d){var f=this,e=this.canvas,U=this.settings,k=this.scaleFactor,d=c.extend({animate:!0},d);f.imageOpened=!0;var h=c("<div>"),l=c('<img src="'+b.thumb+'"/>'),m=(new aa(f.options.images.loader)).get();m.css({position:"absolute",left:"50%",top:"50%",zIndex:10,margin:"-16px 0 0 -16px"});var q=setTimeout(function(){h.append(m);
m.start()},500);z(b.thumb,function(m){function q(){var a=c('<div class="captionContainer"></div>');a.css({position:"absolute",left:8*k,top:8*k,width:s.width,height:s.height,overflow:"hidden",cursor:"pointer"});h.append(a);if(b.description){var m=parseInt(U.imageCaption.fontSize),m=m||f.defaultSettings.imageCaption.fontSize,p=c("<div><div>"+b.description.replace("\n","<br/>")+"</div></div>");p.css({position:"absolute",left:0,width:s.width,fontFamily:U.imageCaption.fontName,fontSize:m*k+"px",lineHeight:1.25,
color:A(U.imageCaption.color),background:O(U.imageCaption.bgColor,U.imageCaption.bgAlpha/100)});a.append(p);"bottom"==U.imageCaption.position.toLowerCase()?(p.css({borderTop:"solid "+O(U.imageCaption.bgColor,(U.imageCaption.bgAlpha+10)/100),borderWidth:k}),p.children("div").css({padding:10*k}),p.css({bottom:-p.outerHeight(!1)}),d.animate?p.animate({bottom:0},f.options.animation.duration,"easeOutQuad"):p.css({bottom:0})):(p.css({borderBottom:"solid "+O(U.imageCaption.bgColor,(U.imageCaption.bgAlpha+
10)/100),borderWidth:k}),p.children("div").css({padding:10*k}),p.css({top:-p.outerHeight(!1)}),d.animate?p.animate({top:0},f.options.animation.duration,"easeOutQuad"):p.css({top:0}))}var u=c('<a class="altgallery-close"></a>');u.css({position:"absolute",right:-20*k,top:-19*k,width:40*k,height:40*k,zIndex:1,background:"no-repeat center",backgroundImage:E(f.options.images.close),backgroundSize:30*k+"px "+30*k+"px",cursor:"pointer"});w()&&u.css({width:47*k,height:45*k,backgroundSize:40*k+"px "+40*k+
"px"});u.click(function(){f.imageOpened=!1;c(this).remove();p&&p.remove();g.opacity="hide";h.animate(g,f.options.animation.duration,function(){c(this).remove()});l.animate(F,f.options.animation.duration);c(".altgallery-frameMask",f.canvas.element).fadeOut(f.options.animation.duration)});h.append(u);a.click(function(){n||(u.remove(),p&&p.remove(),g.opacity="hide",h.animate(g,f.options.animation.duration,function(){c(this).remove();f.next()}),l.animate(F,f.options.animation.duration))});var n,t;h.draggable({axis:"x",
start:function(b,c){n=!0;t=c.position.left;u.hide()},stop:function(b,c){c.position.left>t+30?h.animate({left:e.width()},function(){f.prev()}):c.position.left<t-30?h.animate({left:-e.width()},function(){f.next()}):h.animate({left:t},"fast",function(){u.show()});setTimeout(function(){n=!1},100)}})}c(".altgallery-imageFrame",f.canvas.element).remove();c(".altgallery-frameMask",f.canvas.element).fadeIn(f.options.animation.duration);h.addClass("altgallery-imageFrame").css({position:"absolute",padding:8*
k,background:A(U.colorScheme.imageBGColor),zIndex:30}).hide();var s=H.fit(m.width,m.height,f.canvas.width()-48*k,f.canvas.height()-48*k),g={left:s.left+16*k+s.width/3,top:s.top+16*k+s.height/3,width:s.width/3,height:s.height/3};d.left!==a&&(g.left=d.left);d.top!==a&&(g.top=d.top);h.css(g);var m=H.fit(m.width,m.height,f.canvas.width()-48*k,f.canvas.height()-48*k),F={left:m.left+16*k+m.width/3,top:m.top+16*k+m.height/3,width:m.width/3,height:m.height/3,margin:0,padding:0,border:"none",maxWidth:"none",
maxHeight:"none",cursor:"pointer"};l.css(F);h.append(l);f.canvas.element.append(h);var n={left:s.left+16*k,top:s.top+16*k,width:s.width,height:s.height};d.animate?(l.animate(m,f.options.animation.duration),h.animate(c.extend(n,{opacity:"show"}),f.options.animation.duration,q)):(l.css(m),h.css(n).show(),q())});z(b.source,function(){clearTimeout(q);m.stop();m.remove();l.attr("src",b.source)})};W.prototype.prev=function(){this.currentItem--;0>this.currentItem&&(this.currentItem=this.items.length-1);
this.open(this.getCurrentItem())};W.prototype.next=function(){this.currentItem++;this.currentItem>=this.items.length&&(this.currentItem=0);this.open(this.getCurrentItem())};W.prototype.placePage=function(b){var a=this,b=c.extend({animate:!0,duration:a.options.animation.duration},b);b.animate?(a.hideControls(),a.imagesContainer.animate({left:-(a.page*a.pageWidth)},{duration:b.duration,complete:function(){a.showControls()}})):a.imagesContainer.css({left:-(a.page*a.pageWidth)})};W.prototype.prevPage=
function(){this.page--;0>this.page&&(this.page=0);this.placePage()};W.prototype.nextPage=function(){this.page++;this.page>=this.pagesCount&&(this.page=this.pagesCount-1);this.placePage()};J.prototype.scale=function(b){this.scaleFactor=b;this.originalSize||(this.originalSize={width:this.canvas.width(),height:this.canvas.height()});this.canvas.resize(this.originalSize.width*b,this.originalSize.height*b);this.canvas.empty();this.init()};J.prototype.init=function(){var b=this.settings;this.initFrame();
this.initNavigation();this.initCaption();this.initButtons();this.initThumbnails();this.initImage();switch(b.initialState.toLowerCase()){case "show thumbnails":this.showThumbnails();break;default:case "load image":case "show image":this.showImage();break;case "start slideshow":this.showImage(),this.slideshowStart()}};J.prototype.initFrame=function(){var b=this.canvas,a=this.settings,f=this.scaleFactor,d=this.scale2,e=this.frame=c("<div/>"),k=b.width()-10*f,h=b.height()-10*f;e.css({position:"absolute",
left:5*f,top:5*f,width:k,height:h,overflow:"hidden",background:A(a.buttons.bgColor)});x(e,{borderRadius:5*f+"px",boxShadow:"0 0 4px rgba(0, 0, 0, 0.5)"});var l=this.content=c("<div/>"),k=this.contentWidth=k-18*f,d=this.contentHeight=h-(20+23*d)*f;l.css({position:"absolute",left:9*f,top:9*f,width:k,height:d,background:A(a.base.color)});x(l,{borderRadius:4*f+"px"});e.append(l);a=this.preloader=(new aa(this.options.images.loader)).get();a.css({position:"absolute",left:"50%",top:"50%",zIndex:100,margin:"-16px 0 0 -16px"});
l.append(a);b.append(e)};J.prototype.initNavigation=function(){this.initPrevButton();this.initNextButton()};J.prototype.initPrevButton=function(){var b=this.settings,a=this.scaleFactor,f=c("<div/>");f.css({position:"absolute",left:0,top:this.contentHeight/2-20*a,zIndex:10,width:21*a,height:60*a,background:A(b.buttons.bgColor),backgroundSize:25*a+"px "+150*a+"px",cursor:"default"});x(f,{borderRadius:10*a+"px",boxShadow:"5px 0 "+15*a+"px rgba(0, 0, 0, 0.5)"});this.frame.append(f);var d=c("<div/>");
d.css({position:"absolute",left:0,top:this.contentHeight/2-30*a,zIndex:10,width:9*a,height:80*a,background:A(b.buttons.bgColor),cursor:"default"});this.frame.append(d);var e=this.prevButton=c("<div/>");e.css({position:"absolute",left:0,top:this.contentHeight/2-20*a,zIndex:10,width:21*a,height:60*a,cursor:"pointer"});b=c("<div/>");b.css({marginTop:25*a,marginLeft:6*a,width:9*a,height:9*a,background:"url("+this.options.images.folder+"cubic-buttons.png) no-repeat",backgroundPosition:-8*a+"px "+-8*a+
"px",backgroundSize:25*a+"px "+150*a+"px"});e.append(b);this.frame.append(e);var k;this.canvas.element.hover(function(){clearTimeout(k);f.stop().show().css({opacity:1}).animate({left:0});e.stop().animate({left:0,opacity:1})},function(){k=setTimeout(function(){f.stop().animate({left:-12*a},function(){f.fadeOut()});e.stop().animate({left:-12*a,opacity:0})},100)});this.hidePrevButton=function(){f.css({visibility:"hidden"});d.css({visibility:"hidden"});e.css({visibility:"hidden"})};this.showPrevButton=
function(){f.css({visibility:"visible"});d.css({visibility:"visible"});e.css({visibility:"visible"})}};J.prototype.initNextButton=function(){var b=this.settings,a=this.scaleFactor,f=c("<div/>");f.css({position:"absolute",right:0,top:this.contentHeight/2-20*a,zIndex:10,width:21*a,height:60*a,background:A(b.buttons.bgColor),cursor:"default"});x(f,{borderRadius:10*a+"px",boxShadow:"-5px 0 "+15*a+"px rgba(0, 0, 0, 0.5)"});this.frame.append(f);var d=c("<div/>");d.css({position:"absolute",right:0,top:this.contentHeight/
2-30*a,zIndex:10,width:9*a,height:80*a,background:A(b.buttons.bgColor),cursor:"default"});this.frame.append(d);var e=this.nextButton=c("<div/>");e.css({position:"absolute",right:0,top:this.contentHeight/2-20*a,zIndex:10,width:21*a,height:60*a,cursor:"pointer"});b=c("<div/>");b.css({marginTop:25*a,marginLeft:6*a,width:9*a,height:9*a,background:"url("+this.options.images.folder+"cubic-buttons.png) no-repeat",backgroundPosition:-8*a+"px "+-33*a+"px",backgroundSize:25*a+"px "+150*a+"px"});e.append(b);
this.frame.append(e);var k;this.canvas.element.hover(function(){clearTimeout(k);f.stop().show().css({opacity:1}).animate({right:0});e.stop().animate({right:0,opacity:1})},function(){k=setTimeout(function(){f.stop().animate({right:-12*a},function(){f.fadeOut()});e.stop().animate({right:-12*a,opacity:0})},100)});this.hideNextButton=function(){f.css({visibility:"hidden"});d.css({visibility:"hidden"});e.css({visibility:"hidden"})};this.showNextButton=function(){f.css({visibility:"visible"});d.css({visibility:"visible"});
e.css({visibility:"visible"})}};J.prototype.initCaption=function(){var b=this.scaleFactor,a=this.scale2,f=this.caption=c("<div/>");f.css({position:"absolute",left:10*b,bottom:10*b*a,width:this.contentWidth-60*b,height:14*b*a,lineHeight:14*b*a+"px",overflow:"hidden",fontFamily:"Arial, Helvetica, sans-serif",fontSize:11*b*a+"px",color:"#777"});this.frame.append(f)};J.prototype.initButtons=function(){var b=this,a=this.settings,f=this.scaleFactor,d=this.scale2,e=function(){c(this).css({borderColor:"#fff #bbb #bbb #fff"});
x(this,{boxShadow:"0 0 2px rgba(0, 0, 0, 0.2)"})},k=function(){c(this).css({borderColor:"transparent"});x(this,{boxShadow:"none"})},h=23*f*d,l=25*f*d+"px "+150*f*d+"px";if(a.buttons.showSlideshowButton){var m=b.slideshowButton=c("<div/>");m.css({position:"absolute",right:(a.buttons.showThumbnailsButton?32:8)*f*d,bottom:5*f,width:h,height:h,background:E(b.options.images.folder+"cubic-buttons.png")+" no-repeat",backgroundPosition:"0px "+-51*f*d+"px",backgroundSize:l,border:"1px solid",borderColor:"transparent",
cursor:"pointer"});x(m,{borderRadius:"3px 4px"});m.hover(e,k);m.click(function(){b.showImage();b.slideshowStart()});b.frame.append(m)}a.buttons.showThumbnailsButton&&(a=b.showThumbnailsButton=c("<div/>"),a.css({position:"absolute",right:8*f*d,bottom:5*f,width:h,height:h,background:E(b.options.images.folder+"cubic-buttons.png")+" no-repeat",backgroundPosition:"-1px "+-126*f*d+"px",backgroundSize:l,border:"1px solid",borderColor:"transparent",cursor:"pointer"}).hide(),x(a,{borderRadius:"3px 4px"}),
a.hover(e,k),a.click(function(){b.showThumbnails()}),b.frame.append(a),a=b.showImagesButton=c("<div/>"),a.css({position:"absolute",right:8*f*d,bottom:5*f,width:h,height:h,background:E(b.options.images.folder+"cubic-buttons.png")+" no-repeat",backgroundPosition:"-1px "+-101*f*d+"px",backgroundSize:l,border:"1px solid",borderColor:"transparent",cursor:"pointer"}).hide(),x(a,{borderRadius:"3px 4px"}),a.hover(e,k),a.click(function(){b.showImage()}),b.frame.append(a))};J.prototype.initImage=function(){var b=
this.scaleFactor,a=this.imageWidth=this.contentWidth-2*this.settings.base.visibleFrame*b,f=this.imageHeight=this.contentHeight-2*this.settings.base.visibleFrame*b,d=this.imagesFrame=c("<div/>");d.css({position:"absolute",left:this.settings.base.visibleFrame*b,top:this.settings.base.visibleFrame*b,width:a,height:f,overflow:"hidden"}).hide();x(d,{borderRadius:3*b+"px"});this.content.append(d);b=this.imagesContainer=c("<div/>");b.css({position:"relative",left:0,top:0});d.append(b)};J.prototype.showImage=
function(b){var c=this,a=this.scaleFactor,d=function(){function b(){setTimeout(function(){c.drag=!1},100)}c.cleanup();c.thumbnailsFrame.hide();c.imagesFrame.show();c.showImagesButton.hide();c.showThumbnailsButton.show();c.showPrevButton();c.showNextButton();c.prevButton.unbind("click").click(function(){c.slideshowStop();c.prev()});c.nextButton.unbind("click").click(function(){c.slideshowStop();c.next()});var d=0;c.imagesContainer.draggable({axis:"x",start:function(b,a){c.drag=!0;d=a.position.left},
stop:function(e,l){l.position.left>d+30*a?c.prev(c.options.animation.duration,b):l.position.left<d-30*a?c.next(c.options.animation.duration,b):c.place(c.options.animation.duration,b)}});c.imagesContainer.unbind("dblclick").dblclick(function(){c.showThumbnails()})};!1!==b?(c.hidePrevButton(),c.hideNextButton(),c.open(c.getCurrentItem(),d)):d()};J.prototype.initThumbnails=function(){function b(){a.cleanup()}var a=this,f=this.canvas,d=this.scaleFactor,e=a.thumbnailsWidth=a.contentWidth-2*a.settings.base.visibleFrame*
d,k=a.thumbnailsHeight=a.contentHeight-2*a.settings.base.visibleFrame*d,h=a.thumbnailsFrame=c("<div/>");h.css({position:"absolute",left:a.settings.base.visibleFrame*d,top:a.settings.base.visibleFrame*d,width:e,height:k,overflow:"hidden"}).hide();x(h,{borderRadius:3*d+"px"});a.content.append(h);var l=a.thumbnailsContainer=c('<div class="thumbnailsContainer"/>');l.css({position:"relative",left:0,top:0,width:e*Math.ceil(a.items.length/20),height:k});h.append(l);for(var m=Math.round((e-5)/5),q=Math.round((k-
4)/4),u=Math.round((e-5*m)/10),p=Math.round((k-4*q)/8),d=0;d<a.items.length;d++)(function(d,h){z(h.thumb,function(y){var k=d%5,g=Math.floor(d%20/5),n=c('<a class="altgallery-thumbnail altgallery-thumbnail-'+d+'"></a>');T(n);n.attr({href:h.source}).css({display:"block",position:"absolute",left:k*m+Math.floor(d/20)*e+1*k+u,top:g*q+1*g+p,width:m,height:q,overflow:"hidden",cursor:"pointer",zIndex:Math.floor(d%20/5)});x(n,{boxShadow:"0px 3px 3px rgba(0, 0, 0, 0.5)"});n.mouseover(function(){if(a.enableThumbnailsHover&&
!a.drag){var p=0;0==k?p=m/8:4==k&&(p=-m/8);var u=0;0==g?u=q/8:3==g&&(u=-q/8);a.updateCaption(h.description||"Image "+(d+1)+" / "+a.items.length);a.cleanup();f.element.find(".altgallery-thumbnail").css({opacity:0.8});var n=c(this).clone();n.addClass("altgallery-clone");var t=l.offset();n.css({left:c(this).offset().left-t.left,top:c(this).offset().top-t.top,zIndex:10,opacity:1});x(n,{boxShadow:"5px 15px 13px rgba(0, 0, 0, 0.7)"});l.append(n);var v=n.find("img");n.animate({width:1.25*m,height:1.25*q,
marginLeft:-m/8+p,marginTop:-q/8+u},{duration:"fast",easing:"linear",step:function(){v.css(H.fill(y.width,y.height,n.width(),n.height()))}});n.click(function(){a.drag||(a.currentItem=d,n.unbind("mouseleave"),a.canvas.element.unbind("mouseleave",b),x(n,{boxShadow:"none"}),n.animate({left:a.currentPage*e,top:0,width:a.imageWidth,height:a.imageHeight,marginLeft:0,marginTop:0},{duration:"normal",step:function(){v.css(H.fill(y.width,y.height,n.width(),n.height()))},complete:function(){a.showImage()}}));
return!1});n.mouseleave(function(){a.cleanup();a.updateCaption(" ")})}});n.click(function(){a.drag||(a.currentItem=d,a.showImage());return!1});var t=c("<img/>");t.attr({src:h.thumb}).css({display:"block",position:"absolute",border:"none"}).css(H.fill(y.width,y.height,m,q));n.append(t);l.append(n)})})(d,a.items[d]);a.canvas.element.mouseleave(b);a.currentPage=0;a.preloader.hide()};J.prototype.showThumbnails=function(){function b(b,c){e.thumbnailsContainer.stop().animate({left:-e.currentPage*e.thumbnailsWidth},
{duration:b||2*e.options.animation.duration,complete:function(){e.enableThumbnailsHover=!0;"function"==typeof c&&c()}})}function c(a,f){0<e.currentPage&&(e.currentPage--,e.enableThumbnailsHover=!1,e.cleanup());b(a,f);e.updateNavigation()}function a(c,f){e.currentPage<Math.ceil(e.items.length/20)-1&&(e.currentPage++,e.enableThumbnailsHover=!1,e.cleanup());b(c,f);e.updateNavigation()}function d(){setTimeout(function(){e.drag=!1},100)}var e=this,k=this.scaleFactor;e.slideshow&&e.slideshowStop();e.updateCaption(" ");
e.imagesFrame.hide();e.thumbnailsFrame.show();e.showThumbnailsButton.hide();e.showImagesButton.show();e.prevButton.unbind("click").click(function(){c()});e.nextButton.unbind("click").click(function(){a()});e.updateNavigation();var h=0;e.thumbnailsContainer.draggable({axis:"x",start:function(b,c){e.drag=!0;h=c.position.left;e.cleanup()},stop:function(l,m){m.position.left>h+30*k?c(e.options.animation.duration,d):m.position.left<h-30*k?a(e.options.animation.duration,d):b(e.options.animation.duration,
d)}})};J.prototype.updateNavigation=function(){var b=Math.ceil(this.items.length/20);0<this.currentPage?this.showPrevButton():this.hidePrevButton();this.currentPage<b-1?this.showNextButton():this.hideNextButton()};J.prototype.updateCaption=function(b){(b=b||this.getCurrentItem().description)?this.caption.html(b.replace("\n","<br/>")):this.caption.html("Image "+(this.currentItem+1)+" / "+this.items.length)};J.prototype.loadImage=function(b,d){var f=this,b=b%f.items.length;f.items[b]!==a&&z(f.items[b].source,
function(a){var e="altgallery-image-"+b;if(!f.imagesContainer.find("."+e).size()){e=c('<div class="'+e+'"></div>');e.css({position:"absolute",left:f.imageWidth*b,top:0,width:f.imageWidth,height:f.imageHeight,overflow:"hidden"});var k=c('<img style="position:absolute;"/>');k.attr("src",a.src);k.css(H.fill(a.width,a.height,f.imageWidth,f.imageHeight));e.append(k);f.imagesContainer.append(e)}"function"==typeof d&&d(a)})};J.prototype.open=function(b,a){var f=this,d="altgallery-image-"+f.currentItem;f.imagesContainer.find("."+
d).size()?"function"==typeof a&&a():(f.preloader.show(),f.preloader.start(),z(b.source,function(b){var e=c('<div class="'+d+'"></div>');e.css({position:"absolute",left:f.imageWidth*f.currentItem,top:0,width:f.imageWidth,height:f.imageHeight,overflow:"hidden"});var h=c('<img style="position:absolute;"/>');h.attr("src",b.src);h.css(H.fill(b.width,b.height,f.imageWidth,f.imageHeight));e.append(h);f.imagesContainer.append(e);f.preloader.hide();f.preloader.stop();"function"==typeof a&&a()}));f.imagesContainer.stop().css({left:-f.imageWidth*
f.currentItem});f.updateCaption();f.loadImage(b.id+1);f.loadImage(b.id-1)};J.prototype.place=function(b,c){this.imagesContainer.stop().animate({left:-this.imageWidth*this.currentItem},{duration:b||2*this.options.animation.duration,complete:function(){"function"==typeof c&&c()}})};J.prototype.prev=function(b,c){var a=this;if(0<a.currentItem){a.currentItem--;var d=setTimeout(function(){a.preloader.show();a.preloader.start()},500);a.loadImage(a.currentItem,function(){clearTimeout(d);a.preloader.hide();
a.preloader.stop();a.place(b,c);a.updateCaption();a.loadImage(a.currentItem-1)})}else a.currentItem=a.items.length-1,a.showImage()};J.prototype.next=function(b,c){var a=this;if(a.currentItem<a.items.length-1){a.currentItem++;var d=setTimeout(function(){a.preloader.show();a.preloader.start()},500);a.loadImage(a.currentItem,function(){clearTimeout(d);a.preloader.hide();a.preloader.stop();a.place(b,function(){a.slideshow&&a.slideshowStart();"function"==typeof c&&c()});a.updateCaption();a.loadImage(a.currentItem+
1)})}else a.currentItem=0,a.showImage(),a.slideshow&&a.slideshowStart()};J.prototype.slideshowStart=function(){var b=this;b.showImage(!1);clearTimeout(b.slideshowTimer);b.slideshow=!0;b.slideshowButton.css({backgroundPosition:"0px "+-76*this.scaleFactor*this.scale2+"px"});b.slideshowButton.unbind("click").click(function(){b.slideshowStop()});b.slideshowTimer=setTimeout(function(){b.next()},1E3*b.settings.slideshowDelay)};J.prototype.slideshowStop=function(){var b=this;b.slideshow=!1;clearTimeout(b.slideshowTimer);
b.slideshowButton.css({backgroundPosition:"0px "+-51*this.scaleFactor*this.scale2+"px"});b.slideshowButton.unbind("click").click(function(){b.slideshowStart()})};J.prototype.cleanup=function(){this.canvas.element.find(".altgallery-clone").remove();c(this.canvas.element).find(".altgallery-thumbnail").css({opacity:1})};X.prototype.scale=function(b){this.scaleFactor=b;this.originalSize||(this.originalSize={width:this.canvas.width(),height:this.canvas.height()});this.canvas.resize(this.originalSize.width*
b,this.originalSize.height*b);this.canvas.empty();this.render({animate:!1});this.imageOpened&&this.open(this.getCurrentItem(),{animate:!1})};X.prototype.render=function(b){var a=this,f=this.canvas,d=this.items,e=this.settings,k=this.scaleFactor,b=c.extend({animate:!0},b);f.element.empty();var h=f.width(),l=f.height(),m=e.images.margin*k,q=e.frame.useShadow?e.frame.shadowSize*k:0,u=e.frame.frameSize*k,p=h-2*q,h=l-2*q,s=e.images.visibleQuantity,g=a.pageWidth=p-2*u+m,n=a.pageHeight=h-2*u,t=g/s-m,D=a.pagesCount=
Math.ceil(d.length/s),v=t+m,l=c('<div class="altgallery-frame"/>'),w={position:"absolute",left:q,top:q,width:p,height:h,background:A(e.frame.frameColor)},w=c.extend(w,x({borderRadius:4*k+"px"}));e.frame.useShadow&&(w=c.extend(w,x({boxShadow:"0 0 "+q+"px rgba(0, 0, 0, 0.67)"})));l.css(w);f.element.append(l);p=c('<div class="altgallery-frameMask"/>');w=c.extend(w,{background:"#000",opacity:0.6,zIndex:20});w=c.extend(w,x({boxShadow:"none"}));p.css(w).hide();f.element.append(p);f=c("<div/>");f.css({position:"absolute",
left:u,top:u,width:g-m,height:n,overflow:"hidden"});var B=a.imagesContainer=c("<div/>");B.css({position:"relative",left:0,top:0,width:v*s*D,height:1*n});f.append(B);l.append(f);a.drag=!1;var V=0;B.draggable({axis:"x",start:function(b,c){V=c.position.left;a.drag=!0},stop:function(b,c){c.position.left>V+30*k?a.prevPage():c.position.left<V-30*k?a.nextPage():a.placePage({duration:"fast"});setTimeout(function(){a.drag=!1},100)}});for(m=0;m<d.length;m++)f=m%s*v+Math.floor(m/s)*g,function(f,l,h){var m=c("<img/>"),
p=c("<a/>");p.attr({href:d[f].source}).css({display:"block",position:"absolute",left:Math.floor(l),top:Math.floor(h+0.5*n),width:t,height:n,overflow:"hidden",opacity:0,border:"none",margin:0,padding:0}).click(function(){return!1});B.append(p);var k=function(){p.click(function(){a.drag||(a.currentItem=f,a.open(d[f],{left:f%s*v+q,top:h+q}));return!1}).mouseover(function(){m.stop().animate({opacity:1},a.options.animation.duration/2)}).mouseleave(function(){m.stop().animate({opacity:e.images.alpha/100},
a.options.animation.duration/2)})};b.animate&&f>=a.page*s&&f<a.page*s+s?setTimeout(function(){p.animate({top:h,opacity:1},{duration:a.options.animation.duration,complete:k})},200*(f+1)):(p.css({top:h,opacity:1}),k());z(d[f].thumb,function(b){m.attr({src:b.src}).css({display:"block",position:"absolute",margin:0,padding:0,border:"none",opacity:e.images.alpha/100}).css(H.fill(b.width,b.height,t,n));p.append(m)},200*f)}(m,f,0);m=30*k;g=4*k;f=a.prevPageButton=c("<div/>");f.css({position:"absolute",left:0,
top:(h-60*k)/2,width:u+m,height:60*k,cursor:"pointer"});f.click(function(){a.prevPage()});D=c("<div/>");D.css({position:"absolute",left:u-g,top:15*k,width:m,height:m,background:E(a.options.images.folder+"left.png"),backgroundSize:m+"px "+m+"px",cursor:"pointer"});x(D,{borderRadius:g+"px"});f.append(D);l.append(f);f=a.nextPageButton=c("<div/>");f.css({position:"absolute",right:0,top:(h-60*k)/2,width:u+m,height:60*k,cursor:"pointer"});f.click(function(){a.nextPage()});h=c("<div/>");h.css({position:"absolute",
right:u-g,top:15*k,width:m,height:m,background:E(a.options.images.folder+"right.png"),backgroundSize:m+"px "+m+"px",cursor:"pointer"});x(h,{borderRadius:g+"px"});f.append(h);l.append(f);l.mouseover(function(){a.showControls()});l.mouseleave(function(){a.hideControls()});a.hideControls();a.showControls();a.placePage({animate:!1})};X.prototype.hideControls=function(){this.prevPageButton.hide();this.nextPageButton.hide()};X.prototype.showControls=function(){0<this.page&&this.prevPageButton.show();this.page<
this.pagesCount-1&&this.nextPageButton.show()};X.prototype.open=function(){};X.prototype.prev=function(){};X.prototype.next=function(){};X.prototype.placePage=function(b){var a=this,b=c.extend({animate:!0,duration:a.options.animation.duration},b);b.animate?(a.hideControls(),a.imagesContainer.animate({left:-(a.page*a.pageWidth)},{duration:b.duration,complete:function(){a.showControls()}})):a.imagesContainer.css({left:-(a.page*a.pageWidth)})};X.prototype.prevPage=function(){this.page--;0>this.page&&
(this.page=0);this.placePage()};X.prototype.nextPage=function(){this.page++;this.page>=this.pagesCount&&(this.page=this.pagesCount-1);this.placePage()};R.prototype.scale=function(b){this.scaleFactor=b;this.originalSize||(this.originalSize={width:this.canvas.width(),height:this.canvas.height()});this.canvas.resize(this.originalSize.width*b,this.originalSize.height*b);this.render()};R.prototype.getItemStyle=function(b,c){var a=this.settings,d=this.canvas,e,k;e=this.getItemX(c);k=this.getItemZ(c);var h;
h=Math.abs(e);var l=H.fit(b.width,b.height,a.maxImageWidth*this.scaleFactor*(1>h?1:2>h?0.55:3>h?0.5:0.6-0.05*h),d.height()-60);return{zIndex:10*k,left:(d.width()-l.width)/2+e*d.width()/8+(e?e/h*a.maxImageWidth/3:0),top:(d.height()-l.height)/2-30,width:l.width,height:l.height,opacity:e?0.8:1,transform:{rotateY:-(e?e/h:0)*a.imageAngle+"deg"}}};R.prototype.render=function(){var b=this,a=this.settings,f=this.canvas,d=this.items;this.canvas.empty();this.scene=c('<div class="altgallery-scene"></div>');
this.scene.css({position:"relative",width:f.width(),height:f.height()});this.canvas.element.append(this.scene);var e=f.scale()||1,k,h={touchstart:function(c){b.drag=!0;k=c.pageX},touchend:function(c){var c=c.pageX-k,a=Math.abs(c)>b.canvas.width()/2?2:1;c>30*e?(setTimeout(function(){b.drag=!1},100),b.prev(a)):c<-30*e?(setTimeout(function(){b.drag=!1},100),b.next(a)):b.drag=!1},touchcancel:function(){setTimeout(function(){b.drag=!1},100)}},h=h||{};c(this.scene).each(function(){var b=!1,a=!1;c(this).mousedown(function(){b=
!0;return!1}).mousemove(function(c){b&&(a?"function"==typeof h.touchmove&&h.touchmove(c):(a=!0,"function"==typeof h.touchstart&&h.touchstart(c)));return!1}).mouseup(function(c){b=!1;a&&(a=!1,"function"==typeof h.touchend&&h.touchend(c));return!1}).mouseleave(function(c){b=!1;a&&(a=!1,"function"==typeof h.touchcancel&&h.touchcancel(c))})});var l=!G();b.scene.empty();b.scene.css({"-webkit-perspective":400,"-moz-perspective":400,perspective:400});var m,q,u,p,g,n=0;p=b.currentItem;g=2*Math.max(p,d.length-
p);for(q=1;q<=g;q++)m=p+(q%2?parseInt(q/2):-parseInt(q/2)),0<=m&&m<d.length&&function(e){setTimeout(function(){u=b.getItemX(e);z(d[e].source,function(h){var m=b.getItemStyle(h,e),p=c('<a class="altgallery-item-'+e+'"></a>');d[e].link&&(p.attr("href",d[e].link),d[e].target&&p.attr("target",d[e].target));p.css({display:"block",position:"absolute",zIndex:m.zIndex,left:m.left,top:m.top,width:m.width,height:m.height,overflow:"visible",background:"#000",cursor:"pointer",outline:"none"});l&&M(p,{rotateY:m.transform.rotateY});
var q=c("<img/>");q.attr("src",h.src);T(q);q.css({display:"block",width:m.width,height:m.height,opacity:m.opacity});p.append(q);if(b.showReflections){h=q.clone();h.css({position:"absolute",opacity:a.reflectionAlpha/100,"-moz-transform":"scaleY(-1)","-webkit-transform":"scaleY(-1)","-o-transform":"scaleY(-1)","-ms-transform":"scaleY(-1)",transform:"scaleY(-1)",zIndex:1});var k=c('<div class="altgallery-overlay"></div>');k.css({position:"absolute",top:m.height,width:m.width,height:m.height,background:f.element.css("backgroundColor"),
zIndex:0});var g=c('<div class="altgallery-overlay"></div>');g.css({position:"absolute",top:m.height,width:m.width,height:m.height,zIndex:2});var m=f.element.css("backgroundColor"),s=[O(m,0),O(m,0.5),O(m,1)];c.browser.mozilla?g.css({background:"-moz-linear-gradient(top, "+s[0]+" 0%, "+s[1]+" 15%, "+s[2]+" 50%)"}):c.browser.webkit?g.css({background:"-webkit-linear-gradient(top, "+s[0]+" 0%, "+s[1]+" 15%, "+s[2]+" 50%)"}):c.browser.opera?g.css({background:"-o-linear-gradient(top, "+s[0]+" 0%, "+s[1]+
" 15%, "+s[2]+" 50%)"}):c.browser.msie?(m=A(m).replace("#",""),g.css({filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00"+m+",endColorstr=#ff"+m+",GradientType=0)"})):g.css({background:"linear-gradient(top, "+s[0]+" 0%, "+s[1]+" 15%, "+s[2]+" 50%)"});p.append(h);p.append(k);p.append(g)}p.click(function(){b.drag||(b.currentItem=e,0>b.currentItem?b.currentItem=0:b.currentItem>=d.length&&(b.currentItem=d.length-1),b.animate());return!1}).hover(function(){q.css({opacity:1})},function(){q.css({opacity:u?
0.8:1})});e==b.currentItem&&p.unbind("click").click(function(){if(b.drag)return!1});b.scene.append(p)})},100*n++)}(m);a.useScrollBar&&b.showScrollbar();c.browser.mozilla&&b.showReflections&&b.animate()};R.prototype.animate=function(){function b(b,l,h){z(d[b].source,function(m){function q(b){function a(c){return u[c]+(n[c]-u[c])*b/1E4}k.css({left:a("left"),top:a("top"),zIndex:parseInt(a("zIndex")),width:a("width"),height:a("height")});g.css({width:a("width"),height:a("height")});c.showReflections&&
t.css({top:a("height"),width:a("width"),height:a("height")});e&&M(k,{rotateY:parseFloat(u.transform.rotateY)+(parseFloat(n.transform.rotateY)-parseFloat(u.transform.rotateY))*b/1E4+"deg"})}var k=c.scene.find(".altgallery-item-"+b),g=k.find("img"),u={left:parseInt(k.css("left")),top:parseInt(k.css("top")),zIndex:parseInt(k.css("z-index")),width:k.width(),height:k.height(),opacity:k.find("img").css("opacity"),transform:M(k)},n=c.getItemStyle(m,b);h||k.show();k.unbind("click").click(function(){c.drag||
(c.currentItem=b,0>c.currentItem?c.currentItem=0:c.currentItem>=d.length&&(c.currentItem=d.length-1),c.animate());return!1}).unbind("hover").hover(function(){g.first().css({opacity:1})},function(){g.first().css({opacity:l?0.8:1})});g.first().css({opacity:n.opacity});var t=k.find(".altgallery-overlay");k.stop().prop("animate",0);h?q(1E4):k.animate({animate:1E4},{duration:1E3*a.flipDuration,easing:"easeOutExpo",step:function(b){q(b)},complete:function(){k.prop("animate",0);b==c.currentItem&&k.unbind("click").click(function(){if(c.drag)return!1})}})})}
var c=this,a=this.settings,d=this.items,e=!G(),k,h,l,m,q;m=c.currentItem;q=2*Math.max(m,d.length-m);for(h=1;h<=q;h++)if(k=m+(h%2?parseInt(h/2):-parseInt(h/2)),0<=k&&k<d.length){var g=Math.abs(c.currentItem-k);l=c.getItemX(k);4>g?b(k,l):(c.scene.find(".altgallery-item-"+k).hide(),b(k,l,!0))}a.useScrollBar&&c.updateScrollbar()};R.prototype.showScrollbar=function(){var b=this,a=this.settings,f=this.canvas,d=this.scaleFactor,e=c('<div class="altgallery-scrollbar"></div>'),k=Math.round(0.8*f.width())-
36*d;e.css({position:"absolute",zIndex:1E3,left:(f.width()-(k+36*d))/2,bottom:5*d,width:k+36*d,height:17*d,background:O(a.scrollbar.bgColor,a.scrollbar.bgAlpha/100)});x(e,{borderRadius:8*d});if(c.browser.msie&&9>c.browser.version){var h=sprintf("%02x%s",255*a.scrollbar.bgAlpha/100,A(a.scrollbar.bgColor).replace("#",""));e.css({filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+h+",endColorstr=#"+h+")"})}var l=c('<div class="altgallery-scrollbar-handle"></div>'),m=k/b.items.length;
l.css({position:"absolute",left:Math.round(b.currentItem*m),top:-10,width:Math.floor(m),height:30*d});var q=c("<div/>");q.css({position:"relative",top:10,height:13*d,background:A(a.scrollbar.handleColor),opacity:a.scrollbar.handleAlpha/100,cursor:"ew-resize"});q.hover(function(){q.css({opacity:1})},function(){q.css({opacity:a.scrollbar.handleAlpha/100})});l.append(q);l.draggable({axis:"x",containment:"parent",stop:function(c,a){b.currentItem=Math.floor(a.position.left/k*b.items.length);l.css({left:Math.round(b.currentItem*
m)});b.animate()}});h=c("<div/>");h.css({position:"relative",top:2*d,height:13*d,margin:"0 "+18*d+"px"});h.click(function(a){a=a.pageX-c(this).offset().left;b.currentItem=Math.floor(a/k*b.items.length);l.css({left:Math.round(b.currentItem*m)});b.animate()});var d={position:"absolute",top:2,width:16*d,height:16*d,fontFamily:"Arial, Helvetica, sans-serif",fontSize:10*d+"px",lineHeight:14*d+"px",textAlign:"center",color:A(a.scrollbar.arrowsColor),opacity:a.scrollbar.arrowsAlpha/100,cursor:"pointer"},
g=c("<div>&#9668;</div>");g.css(d);g.css({left:1});g.click(function(){b.prev()});e.append(g);g=c("<div>&#9658;</div>");g.css(d);g.css({right:1});g.click(function(){b.next()});e.append(g);h.append(l);e.append(h);f.element.append(e)};R.prototype.updateScrollbar=function(){var b=this.canvas,c=this.scaleFactor,c=(Math.round(0.8*b.width())-36*c)/this.items.length;b.element.find(".altgallery-scrollbar-handle").css({left:Math.round(this.currentItem*c)})};R.prototype.open=function(b){this.currentItem=b.id;
this.animate()};R.prototype.prev=function(b){b=this.currentItem-(b||1);0>b&&(b=0);this.currentItem!=b&&(this.currentItem=b,this.animate())};R.prototype.next=function(b){b=this.currentItem+(b||1);b>=this.items.length&&(b=0);this.currentItem!=b&&(this.currentItem=b,this.animate())};R.prototype.slideshowStart=function(){var b=this;b.slideshowStop();b.slideshowInterval=setInterval(function(){b.next()},1E3*b.settings.slideShowDelay)};R.prototype.slideshowStop=function(){this.slideshowInterval&&clearTimeout(this.slideshowInterval)};
Z.prototype.scale=function(b){this.scaleFactor=b;this.originalSize||(this.originalSize={width:this.canvas.width(),height:this.canvas.height()});this.canvas.resize(this.originalSize.width*b,this.originalSize.height*b);this.canvas.empty();this.init()};Z.prototype.init=function(){var b=this,a=this.settings,f=this.canvas,e=this.scaleFactor;a.overflow&&"hidden"!=a.overflow&&f.element.css({overflow:"visible"});b.imageWidth=a.image.width*e||Math.round(0.75*f.width());b.imageHeight=a.image.height*e||Math.round(0.67*
f.height());b.stack=[];for(var g=0;g<a.visibleImages;g++){var k=c("<div/>");k.css({position:"absolute",left:Math.floor((f.width()-b.imageWidth-20*e)/2),top:Math.floor((f.height()-b.imageHeight-57*e)/2),width:b.imageWidth+20*e,height:b.imageHeight+57*e,background:A(a.frameColor),zIndex:a.visibleImages-g});a.useShadow&&x(k,{boxShadow:"0 0 10px rgba(0,0,0,0.7)"});g&&M(k,{rotate:(d(10*-a.maxAngle,10*a.maxAngle)/10).toString()+"deg"});var h=c('<div class="altgallery-imgFrame"/>');h.css({position:"absolute",
left:10*e,top:10*e,width:b.imageWidth,height:b.imageHeight,overflow:"hidden",background:"#999",cursor:"pointer"});h.click(function(){b.next()});k.append(h);h=c('<div class="altgallery-caption"/>');h.css({position:"absolute",left:10*e,top:b.imageHeight+12*e,width:b.imageWidth,height:42*e,overflow:"hidden",textAlign:"center",fontFamily:a.caption.fontName,fontSize:11*e+"px",lineHeight:14*e+"px",color:A(a.caption.color)});k.append(h);b.stack.push(k);f.append(b.stack[g])}b.open(b.getCurrentItem())};Z.prototype.preload=
function(b,a){var d=this,e=this.settings;z(b.source,function(b){var k=a.find(".altgallery-imgFrame"),h=c("<img/>");h.attr({src:b.src});h.css({position:"absolute"});var l="fit"==e.imageScaleMode.toLowerCase()?H.fit:H.fill;h.css(l(b.width,b.height,d.imageWidth,d.imageHeight));k.empty().append(h)})};Z.prototype.open=function(b){var a=this,d=this.settings,e=this.scaleFactor,g=this.stack[0];a.currentItem=b.id;var k=g.find(".altgallery-caption");k.empty();var h=c("<div/>");h.css({display:"inline-block"});
d.usePhotoNumbers&&h.append(b.id+1+"/"+a.items.length+" ");h.append(b.description);k.append(h);var l=h.height(),k=Math.floor((k.height()-l)/2);14<l&&h.css({textAlign:"left"});h.css({marginTop:0<k?k:0});var m=parseFloat(M(g).rotate);0!=m&&g.animate({animate:100},{duration:200,easing:"linear",step:function(b){M(g,{rotate:(m-m*b/100).toString()+"deg"})},complete:function(){g.prop({animate:0})}});var q=g.find(".altgallery-imgFrame");q.empty();var u=(new aa(a.options.images.loader)).get();u.css({position:"absolute",
left:"50%",top:"50%",margin:"-16px 0 0 -16px"});q.append(u);u.start();z(b.source,function(l){u.stop();u.remove();var h=c("<img/>");h.attr({src:l.src});h.css({position:"absolute"});var m="fit"==d.imageScaleMode.toLowerCase()?H.fit:H.fill;h.css(m(l.width,l.height,a.imageWidth,a.imageHeight));q.append(h);var l={position:"absolute",padding:3*e+"px "+5*e+"px",fontFamily:"Arial, Helvetica, sans-serif",fontSize:10*e+"px",color:"#fff",background:O("#000000",0.7),cursor:"pointer"},k=c('<div class="altgallery-back"/>');
k.css(l).css({left:15*e,top:15*e});x(k,{borderRadius:5*e+"px"});k.html(d.translation.back);k.click(function(){a.prev()});g.append(k);g.hover(function(){k.stop().fadeIn("fast")},function(){k.stop().fadeOut("fast")});if(b.link){var n=c('<div class="altgallery-link"/>');n.css(l).css({right:15*e,top:15*e});x(n,{borderRadius:5*e+"px"});n.html(d.translation.gotoLink);n.click(function(){I(b)});g.append(n);g.hover(function(){n.stop().fadeIn("fast")},function(){n.stop().fadeOut("fast")})}for(l=1;l<d.visibleImages-
1;l++)(function(b){setTimeout(function(){a.preload(a.getNextItem(b),a.stack[b])},500*(b-1))})(l)})};Z.prototype.prev=function(){var b=this,a=this.settings,f=this.stack[0],e=f.position();f.find(".altgallery-back, .altgallery-link").remove();var g=d(10*-a.maxAngle,10*a.maxAngle)/10;f.animate({animate:100},{duration:200,easing:"linear",step:function(b){M(c(this),{rotate:(g*b/100).toString()+"deg"})},complete:function(){c(this).prop({animate:0})}});f=this.stack[this.stack.length-1];b.stack.pop();b.stack.unshift(f);
var k=d(b.imageWidth,1.5*b.imageWidth),h=d(b.imageHeight/2,b.imageHeight),l=d(10,60);f.animate({animate:1E3},{duration:0.8*b.options.animation.duration,easing:"easeOutQuart",step:function(b){f.css({left:e.left+k*b/1E3,top:e.top-h*b/1E3});M(f,{rotate:(l*b/1E3).toString()+"deg"})},complete:function(){for(var c=0;c<b.stack.length;c++)b.stack[c].css({zIndex:b.stack.length-c});f.animate({animate:0},{duration:0.8*b.options.animation.duration,easing:"easeOutQuart",step:function(b){f.css({left:e.left+k*b/
1E3,top:e.top-h*b/1E3});M(f,{rotate:(0+l*b/1E3).toString()+"deg"})}})}});b.currentItem--;0>b.currentItem&&(b.currentItem=b.items.length-1);b.open(b.getCurrentItem())};Z.prototype.next=function(){var b=this,c=this.settings,a=this.stack[0],e=a.position();a.find(".altgallery-back, .altgallery-link").remove();b.stack.shift();b.stack.push(a);var g=d(b.imageWidth,1.5*b.imageWidth),k=d(b.imageHeight/2,b.imageHeight),h=d(10,60),l=d(10*-c.maxAngle,10*c.maxAngle)/10;a.animate({animate:1E3},{duration:0.8*b.options.animation.duration,
easing:"easeOutQuart",step:function(b){a.css({left:e.left+g*b/1E3,top:e.top-k*b/1E3});M(a,{rotate:(h*b/1E3).toString()+"deg"})},complete:function(){for(var c=0;c<b.stack.length;c++)b.stack[c].css({zIndex:b.stack.length-c});a.animate({animate:0},{duration:0.8*b.options.animation.duration,easing:"easeOutQuart",step:function(b){a.css({left:e.left+g*b/1E3,top:e.top-k*b/1E3});M(a,{rotate:(l+h*b/1E3).toString()+"deg"})}})}});b.currentItem++;b.currentItem>=b.items.length&&(b.currentItem=0);b.open(b.getCurrentItem())};
Z.prototype.slideshowStart=function(){var b=this,c=b.settings;if(!b.slideshow){var a=function(){b.slideshowTimeoutId=setTimeout(function(){b.next(a)},1E3*c.slideshow.delay+2E3)};b.slideshow=!0;setTimeout(function(){b.next(a)},1E3*c.slideshow.delay)}};Z.prototype.slideshowStop=function(){this.slideshow&&(this.slideshow=!1,clearTimeout(this.slideshowTimeoutId))};P.prototype.scale=function(b){this.scaleFactor=b;this.originalSettings||(this.originalSettings=c.extend(!0,{},this.settings));this.settings=
c.extend(!0,{},this.originalSettings);this.settings.frameSize*=b;this.settings.cornerRadius*=b;this.settings.iconWidth*=b;this.settings.iconHeight*=b;this.settings.iconPadding*=b;this.settings.fontSize*=b;this.originalSize||(this.originalSize={width:this.canvas.width(),height:this.canvas.height()});this.canvas.resize(this.originalSize.width*b,this.originalSize.height*b);this.render()};P.prototype.render=function(){var b=this,a=this.settings,d=this.canvas,e=this.scaleFactor;d.empty();d.element.css({fontFamily:a.fontName,
fontSize:parseInt(a.fontSize)+"px",lineHeight:1.2*parseInt(a.fontSize)+"px"});var g=c('<div class="altgallery-imageFrame"></div>');g.css({width:d.width()-2*a.frameSize,height:d.height()-2*a.frameSize,padding:a.frameSize,background:A(a.frameColor),borderRadius:a.cornerRadius/2});var k=c('<div class="altgallery-image"></div>');k.css({position:"relative",width:d.width()-2*a.frameSize,height:d.height()-2*a.frameSize,overflow:"hidden",background:A(a.backgroundColor),borderRadius:a.cornerRadius/2-a.frameSize/
4,cursor:"pointer"});a=c("<img/>");T(k.children("img"));a.css({position:"absolute"});g.click(function(){b.drag||b.next()});var h;g.draggable({axis:"x",start:function(a,c){if("show thumbnails"==b.currentState||"show albums"==b.currentState)return!1;b.drag=!0;h=c.position.left;b.hideCaption();b.hideButtons();b.hideNavigation()},stop:function(a,c){c.position.left>h+30*e?g.animate({left:d.width()},function(){g.css({left:0});b.prev({transition:"none"})}):c.position.left<h-30*e?g.animate({left:-d.width()},
function(){g.css({left:0});b.next({transition:"none"})}):g.animate({left:0},function(){b.showButtons();b.showCaption();b.showNavigation()});setTimeout(function(){b.drag=!1},100)}});k.append(a);g.append(k);d.element.append(g);b.open(b.getCurrentItem(),{preserveState:!0});switch(b.currentState){default:case "show albums":this.showAlbums();break;case "show thumbnails":this.showThumbnails();case "load image":case "start slideshow":}};P.prototype.showAlbums=function(){var b=this,a=this.canvas,d=this.settings,
e=this.scaleFactor;b.currentState="show albums";if(!a.element.find(".altgallery-albums").size()){var g=function(){var a=p*q+1,c=p*q+q;c>b.albums.length&&(c=b.albums.length);t.html(a+"-"+c+" "+d.translation.Of+" "+b.albums.length);0>=p?(w.css({opacity:0.3,cursor:"default"}),w.unbind("click").click(function(){return!1})):(w.css({opacity:1,cursor:"pointer"}),w.unbind("click").click(x));p>=n-1?(A.css({opacity:0.3,cursor:"default"}),A.unbind("click").click(function(){return!1})):(A.css({opacity:1,cursor:"pointer"}),
A.unbind("click").click(B))};b.hideThumbnails();b.hideButtons();b.hideCaption();b.hideNavigation();var k=c('<div class="altgallery-albums"></div>'),h=a.width()-2*d.frameSize,l=d.iconHeight+115*e;k.css({position:"absolute",left:d.frameSize,top:(a.height()-l)/2,width:a.width()-2*d.frameSize,height:l,overflow:"hidden",color:"#fff",border:"1px #000",borderStyle:"solid none",zIndex:2});var m=c('<div class="altgallery-albums-overlay"></div>');m.css({position:"absolute",left:d.frameSize,top:(a.height()-
l)/2,width:a.width()-2*d.frameSize,height:l+1,background:"#000",opacity:d.panelBackgroundAlpha/100,zIndex:1});a.element.append(m);l=c("<div/>");l.css({position:"absolute",top:0,right:0,padding:10*e});m=c('<a class="altgallery-close">'+d.translation.Close+"</a>");m.css({marginRight:0,color:"#fff",fontWeight:"bold",textDecoration:"none",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)",background:"no-repeat left center",backgroundImage:E(b.options.images.folder+"zen-close.png"),backgroundSize:Math.round(7*e)+
"px "+Math.round(9*e)+"px",paddingLeft:12*e,cursor:"pointer"});m.click(function(){b.hideAlbums();b.showButtons();b.showCaption();b.showNavigation();return!1});l.append(m);k.append(l);var q=Math.floor((h-20)/(d.iconWidth+d.iconPadding)),q=q>b.albums.length?b.albums.length:q,l=(d.iconWidth+d.iconPadding)*q-d.iconPadding,m=(d.iconWidth+d.iconPadding)*b.albums.length-d.iconPadding,n=Math.ceil(b.albums.length/q),p=0,s=c("<div>"+d.translation.Albums+"</div>");s.css({position:"absolute",left:9*e,top:0,padding:10*
e,paddingLeft:23*e,textShadow:"-1px 1px 0 rgba(0, 0, 0, 0.5)",fontWeight:"bold",background:"no-repeat left center",backgroundImage:E(b.options.images.folder+"zen-albums.png"),backgroundSize:Math.round(16*e)+"px "+Math.round(16*e)+"px"});k.append(s);var t=c("<span></span>");t.css({marginLeft:"1em",fontWeight:"normal"});s.append(t);s=c("<div/>");s.css({position:"absolute",left:(h-l)/2-4,top:42*e,width:l+4,height:d.iconHeight+70*e,overflow:"hidden"});var v=c("<div/>");v.css({position:"relative",left:0,
width:m});s.append(v);h=c("<div/>");h.css({position:"absolute",right:4*e,bottom:3*e,height:20*e,opacity:0.9});var w=c('<a style="float:left;"></a>');w.css({display:"block",cssFloat:"left",width:16*e,height:16*e,marginRight:3*e,background:"no-repeat center",backgroundImage:E(b.options.images.folder+"zen-prev.png"),backgroundSize:Math.round(11*e)+"px "+Math.round(10*e)+"px"});var x=function(){0<p&&p--;var a=(d.iconWidth+d.iconPadding)*q*p;v.stop().animate({left:-a},2*b.options.animation.duration,"easeOutQuart");
g();return!1};w.click(x);h.append(w);k.append(s);var A=c('<a style="float:left;"></a>');A.css({display:"block",cssFloat:"left",width:16*e,height:16*e,marginRight:3*e,background:"no-repeat center",backgroundImage:E(b.options.images.folder+"zen-next.png"),backgroundSize:Math.round(11*e)+"px "+Math.round(10*e)+"px"});var B=function(){p<n-1&&p++;var a=(d.iconWidth+d.iconPadding)*q*p;v.stop().animate({left:-a},2*b.options.animation.duration,"easeOutQuart");g();return!1};A.click(B);h.append(A);k.append(h);
g();for(var G,h=0;h<b.albums.length;h++)(function(a,e){var l=c("<div/>");l.css({position:"absolute",left:(d.iconWidth+d.iconPadding)*e,top:0,width:d.iconWidth+d.iconPadding+6,overflow:"hidden",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)"});var h=c('<div class="altgallery-thumbnail"></div>');h.css({position:"relative",width:d.iconWidth-2,height:d.iconHeight-2,overflow:"hidden",border:"1px solid",borderColor:b.currentAlbum==e?"#000":"#fff",margin:"2px",cursor:"pointer"});z(a.items[0].thumb,function(b){var a=
c("<img/>");a.attr("src",b.src);T(a);a.css({position:"absolute"});a.css(H.fill(b.width,b.height,d.iconWidth-2,d.iconHeight-2));h.append(a)},50*e);l.append(h);l.append('<div style="padding:7px 2px 2px; font-weight:bold;">'+(a.description||"Album "+(e+1))+"<div>");l.append('<div style="padding:1px 2px;">'+a.items.length+" "+(1==a.items.length?d.translation.Image:d.translation.Images)+"<div>");l.hover(function(){v.find(".altgallery-thumbnail").css({borderWidth:"1px",margin:"2px"});h.css({borderWidth:"3px",
margin:"0px"})},function(){h.css({borderWidth:"1px",margin:"2px"})}).click(function(){G||(b.currentAlbum!=e&&(b.currentItem=0),b.currentAlbum=e,b.showThumbnails())});v.append(l)})(b.albums[h],h);a.element.append(k);1<n&&v.draggable({axis:"x",start:function(){G=!0},stop:function(b,a){a.position.left>a.originalPosition.left+30*e?x():a.position.left<a.originalPosition.left-30*e?B():v.animate({left:a.originalPosition.left},"fast");setTimeout(function(){G=!1},100)}})}};P.prototype.hideAlbums=function(){this.canvas.element.find(".altgallery-albums, .altgallery-albums-overlay").remove()};
P.prototype.showThumbnails=function(){var b=this,a=this.canvas,d=this.settings,e=this.getCurrentAlbum(),g=this.scaleFactor;b.currentState="show thumbnails";if(!a.element.find(".altgallery-images").size()){var k=function(){var b=s*n+1,a=s*n+n;a>e.items.length&&(a=e.items.length);v.html(b+"-"+a+" "+d.translation.Of+" "+e.items.length);0>=s?(x.css({opacity:0.3,cursor:"default"}),x.unbind("click").click(function(){return!1})):(x.css({opacity:1,cursor:"pointer"}),x.unbind("click").click(A));s>=p-1?(B.css({opacity:0.3,
cursor:"default"}),B.unbind("click").click(function(){return!1})):(B.css({opacity:1,cursor:"pointer"}),B.unbind("click").click(G))};b.hideAlbums();b.hideButtons();b.hideCaption();b.hideNavigation();var h=c('<div class="altgallery-images"></div>'),l=a.width()-2*d.frameSize,m=d.iconHeight+75*g;h.css({position:"absolute",left:d.frameSize,top:(a.height()-m)/2,width:a.width()-2*d.frameSize,height:m,overflow:"hidden",color:"#fff",border:"1px #000",borderStyle:"solid none",zIndex:2});var q=c('<div class="altgallery-images-overlay"></div>');
q.css({position:"absolute",left:d.frameSize,top:(a.height()-m)/2,width:a.width()-2*d.frameSize,height:m+1,background:"#000",opacity:d.panelBackgroundAlpha/100,zIndex:1});a.element.append(q);m=c("<div/>");m.css({position:"absolute",top:0,right:0,padding:10*g});1<b.albums.length&&(q=c('<a class="altgallery-back">'+d.translation.BackToAlbums+"</a>"),q.css({marginRight:"1.5em",color:"#fff",fontWeight:"bold",textDecoration:"none",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)",background:"no-repeat left center",
backgroundImage:E(b.options.images.folder+"zen-backToAlbums.png"),backgroundSize:Math.round(9*g)+"px "+Math.round(9*g)+"px",paddingLeft:14*g,cursor:"pointer"}),q.click(function(){b.showAlbums();return!1}),m.append(q));q=c('<a class="altgallery-close">'+d.translation.Close+"</a>");q.css({marginRight:0,color:"#fff",fontWeight:"bold",textDecoration:"none",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)",background:"no-repeat left center",backgroundImage:E(b.options.images.folder+"zen-close.png"),backgroundSize:Math.round(7*
g)+"px "+Math.round(9*g)+"px",paddingLeft:12*g,cursor:"pointer"});q.click(function(){b.hideThumbnails();b.showButtons();b.showCaption();b.showNavigation();return!1});m.append(q);h.append(m);var n=Math.floor((l-20)/(d.iconWidth+d.iconPadding)),n=n>e.items.length?e.items.length:n,m=(d.iconWidth+d.iconPadding)*n-d.iconPadding,q=(d.iconWidth+d.iconPadding)*e.items.length-d.iconPadding,p=Math.ceil(e.items.length/n),s=0,t=c("<div>"+d.translation.Images+"</div>");t.css({position:"absolute",left:9*g,top:0,
padding:10*g,paddingLeft:23*g,textShadow:"-1px 1px 0 rgba(0, 0, 0, 0.5)",fontWeight:"bold",background:"no-repeat left center",backgroundImage:E(b.options.images.folder+"zen-thumbnails.png"),backgroundSize:Math.round(16*g)+"px "+Math.round(16*g)+"px"});h.append(t);var v=c("<span></span>");v.css({marginLeft:"1em",fontWeight:"normal"});t.append(v);t=c("<div/>");t.css({position:"absolute",left:(l-m)/2-4,top:42*g,width:m+4,height:d.iconHeight+4,overflow:"hidden"});var w=c("<div/>");w.css({position:"relative",
left:0,width:q});t.append(w);h.append(t);l=c("<div/>");l.css({position:"absolute",right:4*g,bottom:3*g,height:20*g,opacity:0.9});var x=c('<a style="float:left;"></a>');x.css({display:"block",cssFloat:"left",width:16*g,height:16*g,marginRight:3*g,background:"no-repeat center",backgroundImage:E(b.options.images.folder+"zen-prev.png"),backgroundSize:Math.round(11*g)+"px "+Math.round(10*g)+"px"});var A=function(){0<s&&s--;var a=(d.iconWidth+d.iconPadding)*n*s;w.stop().animate({left:-a},2*b.options.animation.duration,
"easeOutQuart");k();return!1};x.click(A);l.append(x);var B=c('<a style="float:left;"></a>');B.css({display:"block",cssFloat:"left",width:16*g,height:16*g,marginRight:3*g,background:"no-repeat center",backgroundImage:E(b.options.images.folder+"zen-next.png"),backgroundSize:Math.round(11*g)+"px "+Math.round(10*g)+"px"});var G=function(){s<p-1&&s++;var a=(d.iconWidth+d.iconPadding)*n*s;w.stop().animate({left:-a},2*b.options.animation.duration,"easeOutQuart");k();return!1};B.click(G);l.append(B);h.append(l);
k();for(var I=!1,l=0;l<e.items.length;l++)(function(a,e){var l=c("<div/>");l.css({position:"absolute",left:(d.iconWidth+d.iconPadding)*e,top:0,width:d.iconWidth+d.iconPadding+6,overflow:"hidden",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)"});var h=c('<div class="altgallery-thumbnail"></div>');h.css({position:"relative",width:d.iconWidth-2,height:d.iconHeight-2,overflow:"hidden",border:"1px solid",borderColor:b.currentItem==e?"#000":"#fff",margin:"2px",cursor:"pointer"});z(a.thumb,function(b){var a=c("<img/>");
a.attr("src",b.src);T(a);a.css({position:"absolute"});a.css(H.fill(b.width,b.height,d.iconWidth-2,d.iconHeight-2));h.append(a)},50*e);l.append(h);l.hover(function(){w.find(".altgallery-thumbnail").css({borderWidth:"1px",margin:"2px"});h.css({borderWidth:"3px",margin:"0px"})},function(){h.css({borderWidth:"1px",margin:"2px"})}).click(function(){I||(b.currentItem=e,b.open(b.getCurrentItem()))});w.append(l)})(e.items[l],l);a.element.append(h);1<p&&w.draggable({axis:"x",start:function(){I=!0},stop:function(b,
a){a.position.left>a.originalPosition.left+30*g?A():a.position.left<a.originalPosition.left-30*g?G():w.animate({left:a.originalPosition.left},"fast");setTimeout(function(){I=!1},100)}})}};P.prototype.hideThumbnails=function(){this.canvas.element.find(".altgallery-images, .altgallery-images-overlay").remove()};P.prototype.showButtons=function(){var b=this,a=this.scaleFactor,d=w()?2:1;if("never"!=b.settings.showButtons.toLowerCase()&&(b.settings.showAlbumsButton||b.settings.showThumbnailsButton)&&!b.canvas.element.find(".altgallery-buttons").size()){var e=
c('<div class="altgallery-buttons"></div>');e.css({position:"absolute",right:b.settings.frameSize,top:25*a+b.settings.frameSize,padding:Math.round(3*a*d),paddingLeft:Math.round(1*a*d),paddingRight:Math.round(2*a*d),background:"rgba(0, 0, 0, "+b.settings.buttonsBackgroundAlpha/100+")",border:"1px solid rgba(0, 0, 0, 0.8)",borderRight:"none"});x(e,{borderTopLeftRadius:3*a*d+"px",borderBottomLeftRadius:3*a*d+"px"});if(c.browser.msie&&9>c.browser.version){var g=Math.round(255*parseInt(b.settings.buttonsBackgroundAlpha)/
100),g=16>g?"0"+g.toString(16):g.toString(16);e.css({borderColor:"#000",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+g+"000000,endColorstr=#"+g+"000000)"})}b.settings.showAlbumsButton&&1<b.albums.length&&(g=c('<a style="float:left;"></a>'),g.css({display:"block",cssFloat:"left",margin:"0 "+Math.round(2*a*d)+"px",width:16*a*d,height:16*a*d,background:"no-repeat center",backgroundImage:E(b.options.images.folder+"zen-albums.png"),backgroundSize:Math.floor(16*a*d)+"px "+Math.floor(16*
a*d)+"px",opacity:0.8,cursor:"pointer"}),g.click(function(){b.showAlbums();return!1}),e.append(g));b.settings.showThumbnailsButton&&(g=c('<a style="float:left;"></a>'),g.css({display:"block",cssFloat:"left",margin:"0 "+Math.round(2*a*d)+"px",width:16*a*d,height:16*a*d,background:"no-repeat center",backgroundImage:E(b.options.images.folder+"zen-thumbnails.png"),backgroundSize:Math.floor(16*a*d)+"px "+Math.floor(16*a*d)+"px",opacity:0.8,cursor:"pointer"}),g.click(function(){b.showThumbnails();return!1}),
e.append(g));b.canvas.element.append(e)}};P.prototype.hideButtons=function(){this.canvas.element.find(".altgallery-buttons").remove()};P.prototype.showCaption=function(){var b=this.scaleFactor,a=w()?2:1;this.hideCaption();if("never"!=this.settings.showCaption.toLowerCase()&&(this.getCurrentAlbum()&&this.getCurrentAlbum().description||this.getCurrentItem()&&this.getCurrentItem().description)){var d=c('<div class="altgallery-caption"></div>');d.css({position:"absolute",left:this.settings.frameSize,
top:25*b+this.settings.frameSize,maxWidth:this.canvas.width()-100,paddingTop:4*b*a,paddingRight:10*b*a,paddingBottom:5*b*a,paddingLeft:7*b*a,fontSize:parseInt(this.settings.fontSize)*a+"px",lineHeight:1.2*parseInt(this.settings.fontSize)*a+"px",color:"#fff",textShadow:"-1px 1px 0 rgba(0, 0, 0, 0.3)",background:"rgba(0, 0, 0, "+this.settings.captionBackgroundAlpha/100+")",border:"1px solid rgba(0, 0, 0, 0.8)",borderLeft:"none"});x(d,{borderTopRightRadius:Math.round(3*b*a)+"px",borderBottomRightRadius:Math.round(3*
b*a)+"px"});c.browser.msie&&9>c.browser.version&&(b=Math.round(255*parseInt(this.settings.captionBackgroundAlpha)/100),b=16>b?"0"+b.toString(16):b.toString(16),d.css({borderColor:"#000",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+b+"000000,endColorstr=#"+b+"000000)"}));this.getCurrentAlbum().description&&d.append('<div style="font-weight:bold;">'+this.getCurrentAlbum().description.replace("\n","<br/>")+"</div>");this.getCurrentItem().description&&d.append('<div style="">'+
this.getCurrentItem().description.replace("\n","<br/>")+"</div>");this.canvas.element.append(d)}};P.prototype.hideCaption=function(){this.canvas.element.find(".altgallery-caption").remove()};P.prototype.showNavigation=function(){var b=this,a=this.scaleFactor,d=w()?2:1;if("never"!=b.settings.showButtons.toLowerCase()&&b.settings.showNavigationButton&&!b.canvas.element.find(".altgallery-navigation").size()){var e=c('<div class="altgallery-navigation"></div>');e.css({position:"absolute",right:b.settings.frameSize,
bottom:25*a+b.settings.frameSize,padding:Math.round(3*a*d),paddingLeft:Math.round(1*a*d),paddingRight:Math.round(2*a*d),background:"rgba(0, 0, 0, "+b.settings.buttonsBackgroundAlpha/100+")",border:"1px solid rgba(0, 0, 0, 0.8)",borderRight:"none"});x(e,{borderTopLeftRadius:Math.round(3*a*d)+"px",borderBottomLeftRadius:Math.round(3*a*d)+"px"});if(c.browser.msie&&9>c.browser.version){var g=Math.round(255*parseInt(b.settings.buttonsBackgroundAlpha)/100),g=16>g?"0"+g.toString(16):g.toString(16);e.css({borderColor:"#000",
filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+g+"000000,endColorstr=#"+g+"000000)"})}b.settings.showNavigationButton&&(g=c('<a style="float:left;"></a>'),g.css({display:"block",cssFloat:"left",margin:"0 "+Math.round(2*a*d)+"px",width:16*a*d,height:16*a*d,background:"no-repeat center",backgroundImage:E(b.options.images.folder+"zen-prev.png"),backgroundSize:Math.floor(11*a*d)+"px "+Math.floor(10*a*d)+"px",opacity:0.8,cursor:"pointer"}),g.click(function(){b.prev();return!1}),e.append(g),
g=c('<a style="float:left;"></a>'),g.css({display:"block",cssFloat:"left",margin:"0 "+Math.round(2*a*d)+"px",width:16*a*d,height:16*a*d,background:"no-repeat center",backgroundImage:E(b.options.images.folder+"zen-next.png"),backgroundSize:Math.floor(11*a*d)+"px "+Math.floor(10*a*d)+"px",opacity:0.8,cursor:"pointer"}),g.click(function(){b.next();return!1}),e.append(g));b.canvas.element.append(e)}};P.prototype.hideNavigation=function(){this.canvas.element.find(".altgallery-navigation").remove()};P.prototype.open=
function(a,c){var d=this,e=this.canvas,g=this.settings,c=c||{};c.preserveState||(d.currentState="load image");d.hideAlbums();d.hideThumbnails();d.showButtons();d.showCaption();d.showNavigation();var k=e.element.find(".altgallery-image img");k.hide();var h=e.element.find(".altgallery-imageFrame"),l=(new aa(d.options.images.loader)).get();l.css({position:"absolute",left:"50%",top:"50%",zIndex:10,margin:"-16px 0 0 -16px"});var m=setTimeout(function(){h.append(l);l.start()},500);z(a.source,function(h){clearTimeout(m);
l.stop();l.remove();"fit"==g.imageScaleMode?k.css(H.fit(h.width,h.height,e.width()-2*g.frameSize,e.height()-2*g.frameSize)):k.css(H.fill(h.width,h.height,e.width()-2*g.frameSize,e.height()-2*g.frameSize));k.attr("src",a.source);switch(c.transition){default:case "fade":k.stop().css({opacity:0}).show().animate({opacity:1},2*d.options.animation.duration,"easeOutQuad");break;case "none":k.show()}d.cache()})};P.prototype.prev=function(a){0<this.currentItem?this.currentItem--:this.currentItem=this.getCurrentAlbum().items.length-
1;this.open(this.getCurrentItem(),a)};P.prototype.next=function(a){this.currentItem<this.getCurrentAlbum().items.length-1?this.currentItem++:this.currentItem=0;this.open(this.getCurrentItem(),a)};c.altgallery=altgallery=function(b,d){function f(){g.each(function(){var d,f=b;d=c(this);var g,h,k,n=K();h=new ta(d,f);g=f.config||{};var r=function(a){c(document).ready(function(){setTimeout(function(){var b=function(a){if(a.match(/Art/i))return"art";if(a.match(/Aura/i))return"aura";if(a.match(/Box/i))return"box";
if(a.match(/Cubic/i))return"cubic";if(a.match(/Line/i))return"line";if(a.match(/PhotoFlow/i))return"photoflow";if(a.match(/Promo/i))return"promo";if(a.match(/Stack/i))return"stack";if(a.match(/Zen/i))return"zen"};ka!=11*va&&(a=[]);switch(f.type?f.type.toLowerCase():g.galleryName?f.type=b(g.galleryName):f.type="box"){case "art":case "promo":k=new $(h,a,g.settings,f);break;case "aura":k=new N(h,a,g.settings,f);break;default:case "box":k=new W(h,a,g.settings,f);break;case "cubic":k=new J(h,a,g.settings,
f);break;case "line":k=new X(h,a,g.settings,f);break;case "photoflow":k=new R(h,a,g.settings,f);break;case "stack":k=new Z(h,a,g.settings,f);break;case "zen":k=new P(h,a,g.settings,f)}h.gallery=k;h.initFullscreen();"function"==typeof f.callback&&f.callback(k)},100)})},t=function(a,b){var d=this;this.user=a;this.albumId=b;this.data={};this.title="";this.items=[];this.getData=function(a){c.ajax({url:"https://picasaweb.google.com/data/feed/base/user/"+this.user+"/albumid/"+this.albumId+"?alt=json",dataType:"json",
success:function(b){d.data=b;if(b.feed&&(b.feed.title&&(d.title=b.feed.title.$t),b.feed.entry)){d.items=[];for(var c=0;c<b.feed.entry.length;c++)d.items.push({source:b.feed.entry[c].content.src,thumb:b.feed.entry[c].media$group.media$thumbnail[1].url,description:b.feed.entry[c].media$group.media$description.$t})}"function"==typeof a&&a(d.data)},error:function(){"function"==typeof a&&a()}})}},v=function(){"function"==typeof r&&r(y)},w=function(a,b,c,d){c=c||"";d=d||"";a.items=a.items||[];for(var e=
a.items.length,f=0;f<b.length&&(n||15>f);f++)a.items[e]={id:e,source:c+b[f].source,thumb:b[f].thumb?d+b[f].thumb:c+b[f].source,description:b[f].description||"",link:b[f].link||"",target:b[f].target||""},e++},x=function(b,c,d,e,f){e===a&&(e=g.settings.imagesFolder?g.settings.imagesFolder.replace(/\/+$/,"")+"/":"");f===a&&(f=f||g.settings.thumbnailsFolder?g.settings.thumbnailsFolder.replace(/\/+$/,"")+"/":e);y[b]={id:b,description:d};w(y[b],c,e,f)},y=[];if(e(g.albums)&&g.albums.length){var z=0;for(d=
0;d<g.albums.length&&(n||3>d);d++)x(d,g.albums[d].items||[],g.albums[d].description,g.albums[d].imagesFolder,g.albums[d].thumbnailsFolder),g.albums[d].picasa&&(g.albums[d].picasa.user&&g.albums[d].picasa.albumID)&&(z++,function(a){setTimeout(function(){var b=new t(g.albums[a].picasa.user,g.albums[a].picasa.albumID);b.getData(function(){b.items.length&&w(y[a],b.items);z--})},10*z)}(d));if(z)var A=setInterval(function(){1>z&&(clearInterval(A),v())},100);else v()}else if(e(g.items)&&g.items.length)if(x(0,
g.items),g.settings&&g.settings.picasa&&g.settings.picasa.user&&g.settings.picasa.albumID){var B=new t(g.settings.picasa.user,g.settings.picasa.albumID);B.getData(function(){w(y[0],B.items);v()})}else v();else if(g.settings&&g.settings.picasa&&g.settings.picasa.user&&g.settings.picasa.albumID)x(0,[]),B=new t(g.settings.picasa.user,g.settings.picasa.albumID),B.getData(function(){w(y[0],B.items);v()});else{var E=[];c(d).find("img").each(function(){E.push({source:c(this).parent("a").attr("href")||c(this).attr("src"),
thumb:c(this).attr("src"),description:this.title})});x(0,E);v()}})}var g;if(d===a){window.altgallery_id++;var n="altgallery-"+window.altgallery_id;document.write('<div id="'+n+'"></div>');g=c(document.getElementById(n))}else g=c(d);b=c.extend(!0,{width:"550px",height:"400px",background:"none",images:{folder:ma+"img/",left:"left.png",right:"right.png",close:"close.png",loader:"loader.png"},animation:{duration:500},fullscreen:!0},b);if(b.images.folder){b.images.folder=b.images.folder.replace(/\/+$/,
"")+"/";for(var k in b.images)"folder"!=k&&!b.images[k].match("/")&&(b.images[k]=b.images.folder+b.images[k])}var h={load:function(b,c,d){if(c!==a)switch(c.toLowerCase()){default:case "xml":this.loadXML(b,d);break;case "json":this.loadJSON(b,d)}else b.match(/(json|txt)$/i)?this.loadJSON(b,d):this.loadXML(b,d)},loadJSON:function(a,b){c.ajax({url:a,dataType:"json",success:function(a){h.parse(a,b)},error:function(){"function"==typeof b&&b({})}})},loadXML:function(a,b){c.ajax({url:a,dataType:"xml",success:function(a){var c;
"undefined"==typeof c&&(c=function(){});c.ObjTree=function(){return this};c.ObjTree.prototype.attr_prefix="";c.ObjTree.prototype.parseDOM=function(a){if(a){this.__force_array={};if(this.force_array)for(var b=0;b<this.force_array.length;b++)this.__force_array[this.force_array[b]]=1;b=this.parseElement(a);this.__force_array[a.nodeName]&&(b=[b]);if(11!=a.nodeType){var c={};c[a.nodeName]=b;b=c}return b}};c.ObjTree.prototype.parseElement=function(a){if(7!=a.nodeType){if(3==a.nodeType||4==a.nodeType)return null==
a.nodeValue.match(/[^\x00-\x20]/)?void 0:a.nodeValue;var b,c={};if(a.attributes&&a.attributes.length){b={};for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d].nodeName;if("string"==typeof e){var f=a.attributes[d].nodeValue;f&&(e=this.attr_prefix+e,"undefined"==typeof c[e]&&(c[e]=0),c[e]++,this.addNode(b,e,c[e],f))}}}if(a.childNodes&&a.childNodes.length){e=!0;b&&(e=!1);for(d=0;d<a.childNodes.length&&e;d++)f=a.childNodes[d].nodeType,3==f||4==f||(e=!1);if(e){b||(b="");for(d=0;d<a.childNodes.length;d++)b+=
a.childNodes[d].nodeValue}else{b||(b={});for(d=0;d<a.childNodes.length;d++)if(e=a.childNodes[d].nodeName,"string"==typeof e&&(f=this.parseElement(a.childNodes[d])))"undefined"==typeof c[e]&&(c[e]=0),c[e]++,this.addNode(b,e,c[e],f)}}return b}};c.ObjTree.prototype.addNode=function(a,b,c,d){this.__force_array[b]?(1==c&&(a[b]=[]),a[b][a[b].length]=d):1==c?a[b]=d:2==c?a[b]=[a[b],d]:a[b][a[b].length]=d};c=new c.ObjTree;c.attr_prefix="";a=c.parseDOM(a)["#document"];h.parse(a,b)},error:function(){"function"==
typeof b&&b({})}})},parse:function(a,b){if(a.gallery&&(a.galleryName&&(a.gallery.galleryName=a.galleryName),a=a.gallery,a.items&&a.items.item&&(a.items=a.items.item.length?a.items.item:[a.items.item]),a.albums)){a.albums.album&&(a.albums=a.albums.album.length?a.albums.album:[a.albums.album]);for(var c=0;c<a.albums.length;c++)a.albums[c].items&&a.albums[c].items.item&&(a.albums[c].items=a.albums[c].items.item.length?a.albums[c].items.item:[a.albums[c].items.item])}"function"==typeof b&&b(a)}};"string"==
typeof b.config?(g.css({visibility:"hidden"}),h.load(b.config,b.configType,function(a){g.css({visibility:"visible"});b.config=a;f()})):h.parse(b.config,function(a){b.config=a;f()});return g};c.fn.altgallery=function(a){c.altgallery(a,this);return this};c.altbox=altbox=function(a,d){if(e!=top)var e=top,g=e.document;d=c.extend(!0,{frame:{color:"#000",borderRadius:0},mask:{color:"#000",opacity:0.7},images:{folder:ma+"img/",close:"close.png",loader:"loader.gif"},animation:{duration:700}},d);if(d.images.folder){d.images.folder=
d.images.folder.replace(/\/+$/,"")+"/";for(var n in d.images)"folder"!=n&&!d.images[n].match("/")&&(d.images[n]=d.images.folder+d.images[n])}var k=c("<div/>");k.css({position:"fixed",zIndex:11E4,left:0,top:0,width:"100%",height:"100%",background:"no-repeat center",backgroundColor:d.mask.color,backgroundImage:E(d.images.loader),opacity:0});c(g.body).append(k);k.animate({opacity:d.mask.opacity},d.animation.duration);var h=new Image;h.onload=function(){function l(){k.remove();t.remove()}function m(){x.remove();
p.opacity="hide";t.animate(p,0.67*d.animation.duration);v.animate({width:p.width-20,height:p.height-20},0.67*d.animation.duration);k.fadeOut(d.animation.duration,function(){l()});return!1}var n=c(e).width()-100,u=c(e).height()-100,p=H.fit(h.width/4,h.height/4,n,u,{noEnlarge:!0,minWidth:100,minHeight:100});p.left+=50;p.top+=50;var s=H.fit(h.width+20,h.height+20,n,u,{noEnlarge:!0,minWidth:120,minHeight:120});s.left+=50;s.top+=50;var t=c("<div/>");t.css(p);t.css({position:"fixed",zIndex:111E3,backgroundColor:d.frame.color,
borderRadius:d.frame.borderRadius,MozUserSelect:"none",webkitUserSelect:"none",userSelect:"none"});t.hide();var v=c('<img src="'+a+'"/>');v.css({display:"block",margin:"10px",width:p.width-20,height:p.height-20,borderRadius:8<d.frame.borderRadius?d.frame.borderRadius-8:0});var x=c('<a href="#"/>');x.css({position:"absolute",right:-18,top:-17,width:40,height:40,background:"no-repeat center",backgroundImage:E(d.images.close)});w()&&x.css({right:-23,top:-22,width:50,height:50,backgroundSize:"40px 40px"});
t.append(v);c(g.body).append(t);k.css({backgroundImage:"none"});v.animate({width:s.width-20,height:s.height-20,margin:"10px"},d.animation.duration,"easeOutBack");s.opacity="show";t.animate(s,d.animation.duration,"easeOutBack",function(){t.append(x)});c(e).resize(function(){n=c(e).width()-100;u=c(e).height()-100;p=H.fit(h.width/4,h.height/4,n,u,{noEnlarge:!0,minWidth:100,minHeight:100});p.left+=50;p.top+=50;s=H.fit(h.width+20,h.height+20,n,u,{noEnlarge:!0,minWidth:120,minHeight:120});s.left+=50;s.top+=
50;t.css(s);v.css({width:s.width-20,height:s.height-20})});k.click(l);x.click(m);t.dblclick(m)};h.src=a}})(jQuery);var flashgallery;
(function(c,a){window.flashgallery_id=window.flashgallery_id||0;c.flashgallery=flashgallery=function(e,d,t,n){var v;v="object"==typeof d?c.browser.msie?JSON.stringify({config:d}):{config:JSON.stringify(d)}:{configPath:d};t=c.extend({width:"550px",height:"400px",background:"transparent"},t);window.flashgallery_id++;var g="flashgallery-"+window.flashgallery_id;n==a?document.write('<div id="'+g+'"></div>'):c(n).html('<div id="'+g+'"></div>');var n=c(document.getElementById(g)),w={allowScriptAccess:"always",
allowFullScreen:"true",wmode:"opaque",quality:"high"},G={style:"outline:none;"},K=t.background.match(/(#[0-9a-f]+)/i);K?w.bgcolor=K[1]:w.wmode="transparent";t.disableSWF?(t.config=d,n.altgallery(t)):swfobject.embedSWF(e,g,t.width.toString().match(/^\d+%$/)?t.width:parseInt(t.width),t.height.toString().match(/^\d+%$/)?t.height:parseInt(t.height),"10.0.12.36","http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf",v,w,G,function(a){a.success?c(a.ref).css({background:t.background}):
t.disableJS||(t.config=d,n.altgallery(t))})};c.fn.flashgallery=c.fn.flashgallery||function(a,d,t){c.flashgallery(a,d,t,this)}})(jQuery);
